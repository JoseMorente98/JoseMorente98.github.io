function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{KOq6:function(e,t,i){"use strict";i.r(t),i.d(t,"SubcategoriaPageModule",(function(){return M}));var n=i("ofXK"),a=i("3Pt+"),o=i("TEn/"),r=i("tyNb"),s=i("mrSG"),c=i("m8WC"),l=i("fXoL"),u=i("J/xi"),d=i("LazK"),h=i("riPR");function b(e,t){if(1&e){var i=l.Nb();l.Mb(0,"img",19),l.Ub("click",(function(){l.ec(i);var e=l.Wb().$implicit;return l.Wb().getDetalle(e)})),l.Lb()}if(2&e){var n=l.Wb().$implicit;l.cc("src",n.imagen,l.fc)}}function p(e,t){if(1&e){var i=l.Nb();l.Mb(0,"img",20),l.Ub("click",(function(){l.ec(i);var e=l.Wb().$implicit;return l.Wb().getDetalle(e)})),l.Lb()}}function g(e,t){if(1&e){var i=l.Nb();l.Mb(0,"ion-slide"),l.Mb(1,"div",13),l.hc(2,b,1,1,"img",14),l.hc(3,p,1,0,"img",15),l.Mb(4,"div",16),l.Ub("click",(function(){l.ec(i);var e=t.$implicit;return l.Wb().getDetalle(e)})),l.Mb(5,"div",17),l.Mb(6,"a"),l.Mb(7,"h5"),l.ic(8),l.Lb(),l.Lb(),l.Kb(9,"div",18),l.Mb(10,"p"),l.ic(11),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()}if(2&e){var n=t.$implicit;l.zb(2),l.bc("ngIf",n.imagen),l.zb(1),l.bc("ngIf",!n.imagen),l.zb(5),l.jc(n.nombre),l.zb(3),l.jc(n.descripcion)}}function f(e,t){if(1&e){var i=l.Nb();l.Mb(0,"ion-fab",21),l.Mb(1,"ion-fab-button",4),l.Ub("click",(function(){return l.ec(i),l.Wb().presentModal()})),l.Kb(2,"ion-icon",22),l.Lb(),l.Lb()}}var m,v,w,x=[{path:"",component:(m=function(){function e(t,i,n,a,o,r,s,c,l,u){var d=this;_classCallCheck(this,e),this.loadingController=t,this.notificacionService=i,this.categoriaService=n,this.alertController=a,this.router=o,this.modalController=r,this.actionSheetController=s,this.activatedRoute=c,this.location=l,this.events=u,this.getAll=function(){d.notificacionService.presentLoading("Cargando..."),d.categoriaService.getSingle(d.parameter).subscribe((function(e){e.subcategorias.length>0?(d.data=[],d.data=e.subcategorias):d.data=[],d.notificacionService.dismissLoading()}),(function(e){d.data=[],d.notificacionService.dismissLoading()}))},this.slidesOpts={grabCursor:!0,cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94},on:{beforeInit:function(){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};this.params=Object.assign(this.params,e),this.originalParams=Object.assign(this.originalParams,e)},setTranslate:function(){var e,t=this.$el,i=this.$wrapperEl,n=this.slides,a=this.width,o=this.height,r=this.rtlTranslate,s=this.size,c=this.params.cubeEffect,l=this.isHorizontal(),u=this.virtual&&this.params.virtual.enabled,d=0;c.shadow&&(l?(0===(e=i.find(".swiper-cube-shadow")).length&&(e=this.$('<div class="swiper-cube-shadow"></div>'),i.append(e)),e.css({height:a+"px"})):0===(e=t.find(".swiper-cube-shadow")).length&&(e=this.$('<div class="swiper-cube-shadow"></div>'),t.append(e)));for(var h=0;h<n.length;h+=1){var b=n.eq(h),p=h;u&&(p=parseInt(b.attr("data-swiper-slide-index"),10));var g=90*p,f=Math.floor(g/360);r&&(g=-g,f=Math.floor(-g/360));var m=Math.max(Math.min(b[0].progress,1),-1),v=0,w=0,x=0;p%4==0?(v=4*-f*s,x=0):(p-1)%4==0?(v=0,x=4*-f*s):(p-2)%4==0?(v=s+4*f*s,x=s):(p-3)%4==0&&(v=-s,x=3*s+4*s*f),r&&(v=-v),l||(w=v,v=0);var k="rotateX(".concat(l?0:-g,"deg) rotateY(").concat(l?g:0,"deg) translate3d(").concat(v,"px, ").concat(w,"px, ").concat(x,"px)");if(m<=1&&m>-1&&(d=90*p+90*m,r&&(d=90*-p-90*m)),b.transform(k),c.slideShadows){var M=b.find(l?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),C=b.find(l?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===M.length&&(M=this.$('<div class="swiper-slide-shadow-'.concat(l?"left":"top",'"></div>')),b.append(M)),0===C.length&&(C=this.$('<div class="swiper-slide-shadow-'.concat(l?"right":"bottom",'"></div>')),b.append(C)),M.length&&(M[0].style.opacity=Math.max(-m,0)),C.length&&(C[0].style.opacity=Math.max(m,0))}}if(i.css({"-webkit-transform-origin":"50% 50% -".concat(s/2,"px"),"-moz-transform-origin":"50% 50% -".concat(s/2,"px"),"-ms-transform-origin":"50% 50% -".concat(s/2,"px"),"transform-origin":"50% 50% -".concat(s/2,"px")}),c.shadow)if(l)e.transform("translate3d(0px, ".concat(a/2+c.shadowOffset,"px, ").concat(-a/2,"px) rotateX(90deg) rotateZ(0deg) scale(").concat(c.shadowScale,")"));else{var y=Math.abs(d)-90*Math.floor(Math.abs(d)/90),S=1.5-(Math.sin(2*y*Math.PI/360)/2+Math.cos(2*y*Math.PI/360)/2),L=c.shadowScale/S;e.transform("scale3d(".concat(c.shadowScale,", 1, ").concat(L,") translate3d(0px, ").concat(o/2+c.shadowOffset,"px, ").concat(-o/2/L,"px) rotateX(-90deg)"))}i.transform("translate3d(0px,0,".concat(this.browser.isSafari||this.browser.isUiWebView?-s/2:0,"px) rotateX(").concat(this.isHorizontal()?0:d,"deg) rotateY(").concat(this.isHorizontal()?-d:0,"deg)"))},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}}}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"ionViewDidEnter",value:function(){this.administratorApp=localStorage.getItem("currentType"),this.parameter=+this.activatedRoute.snapshot.paramMap.get("id"),this.getAll()}},{key:"goToRoute",value:function(e){this.router.navigate([""+e])}},{key:"goToBack",value:function(){this.events.publish("categoria:get",{user:"Refresh"}),this.location.back()}},{key:"getDetalle",value:function(e){"Administrador"==this.administratorApp?0==e.productos.length&&0==e.subcategorias.length?this.presentActionSheet(e):e.productos.length>=0&&0==e.subcategorias.length?this.presentActionSheet2(e):0==e.productos.length&&e.subcategorias.length>=0&&this.presentActionSheet3(e):0==e.productos.length&&0==e.subcategorias.length?this.goToRoute("subcategoria/"+e.id):e.productos.length>=0&&0==e.subcategorias.length?this.goToRoute("producto/"+e.id):0==e.productos.length&&e.subcategorias.length>=0&&this.goToRoute("subcategoria/"+e.id)}},{key:"presentActionSheet",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:function(){n.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:function(){n.presentAlert(e.id)}},{text:"Productos",icon:"pricetags-outline",handler:function(){console.log("Share clicked"),n.goToRoute("producto/"+e.id)}},{text:"Subcategor\xedas",icon:"copy-outline",handler:function(){console.log("Play clicked"),n.goToRoute("subcategoria/"+e.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"presentActionSheet2",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:function(){n.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:function(){n.presentAlert(e.id)}},{text:"Productos",icon:"pricetags-outline",handler:function(){console.log("Share clicked"),n.goToRoute("producto/"+e.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"presentActionSheet3",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:function(){n.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:function(){n.presentAlert(e.id)}},{text:"Subcategor\xedas",icon:"copy-outline",handler:function(){console.log("Play clicked"),n.goToRoute("subcategoria/"+e.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getProducts",value:function(e,t,i){"Administrador"==this.administratorApp?this.presentAlert(e):this.goToRoute(t.length>0?"subcategoria/"+e:"producto/"+e)}},{key:"presentModal",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:c.a,componentProps:{value:e,categoria:this.parameter}});case 2:return(i=t.sent).onDidDismiss().then((function(e){e.data&&n.getAll()})),t.next=6,i.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"presentAlert",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"Eliminar",message:"\xbfDeseas eliminar la categor\xeda?",cssClass:"my-custom-class",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Aceptar",handler:function(){n.delete(e)}}]});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"delete",value:function(e){var t=this;this.categoriaService.delete(e).subscribe((function(e){t.notificacionService.presentAlert("Categor\xeda Eliminada","La categor\xeda fue eliminada exitosamente."),t.getAll()}),(function(e){console}))}}]),e}(),m.\u0275fac=function(e){return new(e||m)(l.Jb(o.T),l.Jb(u.a),l.Jb(d.a),l.Jb(o.b),l.Jb(r.g),l.Jb(o.U),l.Jb(o.a),l.Jb(r.a),l.Jb(n.f),l.Jb(h.a))},m.\u0275cmp=l.Db({type:m,selectors:[["app-subcategoria"]],decls:20,vars:4,consts:[["translucent","true"],["slot","start"],["defaultHref","/cliente/categoria"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","cart-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],["slot","end"],["pager","true",2,"height","90%",3,"options"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"categories_post"],["class","card-img rounded-0","alt","post",3,"src","click",4,"ngIf"],["class","card-img rounded-0","src","https://res.cloudinary.com/devgea-s-a/image/upload/v1595208129/Finca%20Cienaguilla/dcvl1m07jfbf4lbdqhon.png","alt","post",3,"click",4,"ngIf"],[1,"categories_details",3,"click"],[1,"categories_text"],[1,"border_line"],["alt","post",1,"card-img","rounded-0",3,"src","click"],["src","https://res.cloudinary.com/devgea-s-a/image/upload/v1595208129/Finca%20Cienaguilla/dcvl1m07jfbf4lbdqhon.png","alt","post",1,"card-img","rounded-0",3,"click"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-outline"]],template:function(e,t){1&e&&(l.Mb(0,"ion-header",0),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-buttons",1),l.Kb(3,"ion-back-button",2),l.Lb(),l.Mb(4,"ion-title"),l.ic(5,"Subcategor\xedas"),l.Lb(),l.Mb(6,"ion-buttons",3),l.Mb(7,"ion-button",4),l.Ub("click",(function(){return t.goToRoute("carrito")})),l.Kb(8,"ion-icon",5),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(9,"ion-content",6),l.Mb(10,"ion-header",7),l.Mb(11,"ion-toolbar"),l.Mb(12,"ion-title",8),l.ic(13,"Subcategor\xedas"),l.Lb(),l.Mb(14,"ion-buttons",9),l.Mb(15,"ion-button",4),l.Ub("click",(function(){return t.goToRoute("carrito")})),l.Kb(16,"ion-icon",5),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(17,"ion-slides",10),l.hc(18,g,12,4,"ion-slide",11),l.Lb(),l.hc(19,f,3,0,"ion-fab",12),l.Lb()),2&e&&(l.zb(9),l.bc("fullscreen",!0),l.zb(8),l.bc("options",t.slidesOpts),l.zb(1),l.bc("ngForOf",t.data),l.zb(1),l.bc("ngIf","Administrador"==t.administratorApp))},directives:[o.t,o.Q,o.h,o.e,o.f,o.P,o.g,o.u,o.o,o.J,n.h,n.i,o.I,o.q,o.r],styles:[""]}),m)}],k=((w=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:w}),w.\u0275inj=l.Gb({factory:function(e){return new(e||w)},imports:[[r.i.forChild(x)],r.i]}),w),M=((v=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:v}),v.\u0275inj=l.Gb({factory:function(e){return new(e||v)},imports:[[n.b,a.a,o.R,k]]}),v)}}]);