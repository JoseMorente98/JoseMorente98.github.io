function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"Z/pz":function(e,n,t){"use strict";t.r(n),t.d(n,"PresentacionPageModule",(function(){return k}));var i=t("ofXK"),a=t("3Pt+"),o=t("TEn/"),r=t("tyNb"),c=t("mrSG"),s=t("fXoL"),l=t("J/xi"),u=t("XDzg");function b(e,n){1&e&&s.Kb(0,"img",18)}function d(e,n){if(1&e&&s.Kb(0,"img",19),2&e){var t=s.Wb();s.cc("src",t.strImage,s.fc)}}var f,h=((f=function(){function e(n,t,i,a){_classCallCheck(this,e),this.modalController=n,this.notificacionService=t,this.categoriaService=i,this.navParams=a,this.disabledBtn=!1,this.data={id:"",nombre:"",descripcion:""}}return _createClass(e,[{key:"ngOnInit",value:function(){this.data.id=this.navParams.get("value"),this.data.id&&this.getSingle(+this.data.id)}},{key:"closeModal",value:function(e){this.modalController.dismiss(e)}},{key:"getSingle",value:function(e){var n=this;this.categoriaService.getSingle(e).subscribe((function(e){n.data=e,n.strImage=e.imagen}),(function(e){}))}},{key:"saveChanges",value:function(){this.validarCampos()&&(this.disabledBtn=!0,this.data.id?this.update():this.create())}},{key:"validarCampos",value:function(){if(this.data.nombre){if(this.data.descripcion)return!0;this.notificacionService.presentToast("La descripci\xf3n es requerida.")}else this.notificacionService.presentToast("El nombre es requerido.");return!1}},{key:"create",value:function(){var e=this;this.categoriaService.create(this.data).subscribe((function(n){e.closeModal(n),e.notificacionService.presentAlert("Presentaci\xf3n Agregada","La presentaci\xf3n se ha registrado exitosamente.")}),(function(n){e.notificacionService.presentToast("Lo sentimos, ha ocurrido un error intenta m\xe1s tarde.")}))}},{key:"update",value:function(){var e=this;this.categoriaService.update(this.data).subscribe((function(n){e.closeModal(n),e.notificacionService.presentAlert("Presentaci\xf3n Actualizada","La presentaci\xf3n se ha actualizados exitosamente.")}),(function(n){e.notificacionService.presentToast("Lo sentimos, ha ocurrido un error intenta m\xe1s tarde.")}))}}]),e}()).\u0275fac=function(e){return new(e||f)(s.Jb(o.U),s.Jb(l.a),s.Jb(u.a),s.Jb(o.W))},f.\u0275cmp=s.Db({type:f,selectors:[["app-modal-presentacion"]],decls:30,vars:6,consts:[["translucent","true"],["slot","end"],[3,"click"],["slot","icon-only","name","close-circle-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[2,"width","100%","height","350px"],[1,"container"],["class","img-center","src","https://res.cloudinary.com/devgea-s-a/image/upload/v1594950613/Finca%20Cienaguilla/mkdr6jfwkclzdzubuuwb.png",4,"ngIf"],["class","img-center",3,"src",4,"ngIf"],[3,"ngSubmit"],["position","floating"],["name","person-outline"],["type","text","name","nombre","required","true","maxlength","255",3,"ngModel","ngModelChange"],["type","text","rows","6","cols","20","name","descripcion","required","true","maxlength","255",3,"ngModel","ngModelChange"],["color","primary","expand","block","type","submit",3,"disabled"],["name","save-outline","slot","start"],["src","https://res.cloudinary.com/devgea-s-a/image/upload/v1594950613/Finca%20Cienaguilla/mkdr6jfwkclzdzubuuwb.png",1,"img-center"],[1,"img-center",3,"src"]],template:function(e,n){1&e&&(s.Mb(0,"ion-header",0),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-title"),s.ic(3,"Presentaci\xf3n"),s.Lb(),s.Mb(4,"ion-buttons",1),s.Mb(5,"ion-button",2),s.Ub("click",(function(){return n.closeModal()})),s.Kb(6,"ion-icon",3),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(7,"ion-content",4),s.Mb(8,"ion-header",5),s.Mb(9,"ion-toolbar"),s.Mb(10,"ion-title",6),s.ic(11,"Presentaci\xf3n"),s.Lb(),s.Lb(),s.Lb(),s.Mb(12,"div",7),s.Mb(13,"div",8),s.hc(14,b,1,0,"img",9),s.hc(15,d,1,1,"img",10),s.Lb(),s.Lb(),s.Mb(16,"form",11),s.Ub("ngSubmit",(function(){return n.saveChanges()})),s.Mb(17,"ion-item"),s.Mb(18,"ion-label",12),s.Kb(19,"ion-icon",13),s.ic(20," Nombre: "),s.Lb(),s.Mb(21,"ion-input",14),s.Ub("ngModelChange",(function(e){return n.data.nombre=e})),s.Lb(),s.Lb(),s.Mb(22,"ion-item"),s.Mb(23,"ion-label",12),s.Kb(24,"ion-icon",13),s.ic(25," Descripcion: "),s.Lb(),s.Mb(26,"ion-textarea",15),s.Ub("ngModelChange",(function(e){return n.data.descripcion=e})),s.Lb(),s.Lb(),s.Mb(27,"ion-button",16),s.Kb(28,"ion-icon",17),s.ic(29," Guardar Cambios "),s.Lb(),s.Lb(),s.Lb()),2&e&&(s.zb(7),s.bc("fullscreen",!0),s.zb(7),s.bc("ngIf",!n.strImage),s.zb(1),s.bc("ngIf",n.strImage),s.zb(6),s.bc("ngModel",n.data.nombre),s.zb(5),s.bc("ngModel",n.data.descripcion),s.zb(1),s.bc("disabled",n.disabledBtn))},directives:[o.t,o.Q,o.P,o.h,o.g,o.u,o.o,i.i,a.j,a.f,a.g,o.w,o.y,o.v,o.ab,a.i,a.b,a.e,a.h,o.O],styles:["ion-content[_ngcontent-%COMP%]{--padding-start:15px;--padding-end:15px}"]}),f),p=t("cZdB");function g(e,n){if(1&e){var t=s.Nb();s.Mb(0,"ion-item",10),s.Ub("click",(function(){s.ec(t);var e=n.$implicit;return s.Wb().getDetalle(e)})),s.Kb(1,"ion-icon",11),s.Mb(2,"ion-label",12),s.Mb(3,"h3"),s.ic(4),s.Lb(),s.Mb(5,"p"),s.ic(6),s.Lb(),s.Lb(),s.Lb()}if(2&e){var i=n.$implicit;s.zb(4),s.jc(i.nombre),s.zb(2),s.jc(i.descripcion)}}var m,v,M,L=[{path:"",component:(m=function(){function e(n,t,i,a,o,r,c,s){var l=this;_classCallCheck(this,e),this.loadingController=n,this.notificacionService=t,this.presentacionService=i,this.alertController=a,this.router=o,this.modalController=r,this.actionSheetController=c,this.location=s,this.getAll=function(){l.notificacionService.presentLoading("Cargando..."),l.presentacionService.getAll().subscribe((function(e){l.data=[],l.data=e,l.notificacionService.dismissLoading()}),(function(e){l.notificacionService.dismissLoading()}))}}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"goToRoute",value:function(e){this.router.navigate([""+e])}},{key:"goToBack",value:function(){this.location.back()}},{key:"ionViewDidEnter",value:function(){this.getAll()}},{key:"getDetalle",value:function(e){this.presentActionSheet(e)}},{key:"presentActionSheet",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.actionSheetController.create({header:"Presentaciones",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:function(){i.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:function(){i.presentAlert(e.id)}},{text:"Cancelar",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]});case 2:return t=n.sent,n.next=5,t.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"presentModal",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalController.create({component:h,componentProps:{value:e}});case 2:return(t=n.sent).onDidDismiss().then((function(e){e.data&&i.getAll()})),n.next=6,t.present();case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}),n,this)})))}},{key:"presentAlert",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({header:"Eliminar",message:"\xbfDeseas eliminar la presentaci\xf3n?",cssClass:"my-custom-class",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Aceptar",handler:function(){i.delete(e)}}]});case 2:return t=n.sent,n.next=5,t.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"delete",value:function(e){var n=this;this.presentacionService.delete(e).subscribe((function(e){n.notificacionService.presentAlert("Presentaci\xf3n Eliminada","La presentaci\xf3n fue eliminada exitosamente."),n.getAll()}),(function(e){console}))}}]),e}(),m.\u0275fac=function(e){return new(e||m)(s.Jb(o.T),s.Jb(l.a),s.Jb(u.a),s.Jb(o.b),s.Jb(r.g),s.Jb(o.U),s.Jb(o.a),s.Jb(i.f))},m.\u0275cmp=s.Db({type:m,selectors:[["app-presentacion"]],decls:19,vars:5,consts:[["translucent","true"],["slot","start"],["defaultHref","/cliente/categoria"],[3,"ngModel","ngModelChange"],["collapse","condense"],["size","large"],["button","",3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add-outline"],["button","",3,"click"],["slot","start","name","albums-outline"],[1,"ion-text-wrap"]],template:function(e,n){1&e&&(s.Mb(0,"ion-header",0),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-buttons",1),s.Kb(3,"ion-back-button",2),s.Lb(),s.Mb(4,"ion-title"),s.ic(5,"Presentaci\xf3n"),s.Lb(),s.Lb(),s.Mb(6,"ion-toolbar"),s.Mb(7,"ion-searchbar",3),s.Ub("ngModelChange",(function(e){return n.search=e})),s.Lb(),s.Lb(),s.Lb(),s.Mb(8,"ion-content"),s.Mb(9,"ion-header",4),s.Mb(10,"ion-toolbar"),s.Mb(11,"ion-title",5),s.ic(12,"Presentaci\xf3n"),s.Lb(),s.Lb(),s.Lb(),s.Mb(13,"ion-list"),s.hc(14,g,7,2,"ion-item",6),s.Xb(15,"filter"),s.Lb(),s.Mb(16,"ion-fab",7),s.Mb(17,"ion-fab-button",8),s.Ub("click",(function(){return n.presentModal()})),s.Kb(18,"ion-icon",9),s.Lb(),s.Lb(),s.Lb()),2&e&&(s.zb(7),s.bc("ngModel",n.search),s.zb(7),s.bc("ngForOf",s.Yb(15,2,n.data,n.search)))},directives:[o.t,o.Q,o.h,o.e,o.f,o.P,o.D,o.ab,a.e,a.h,o.o,o.z,i.h,o.q,o.r,o.u,o.w,o.y],pipes:[p.a],styles:[""]}),m)}],C=((M=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:M}),M.\u0275inj=s.Gb({factory:function(e){return new(e||M)},imports:[[r.i.forChild(L)],r.i]}),M),k=((v=function e(){_classCallCheck(this,e)}).\u0275mod=s.Hb({type:v}),v.\u0275inj=s.Gb({factory:function(e){return new(e||v)},imports:[[i.b,a.a,o.R,C,p.b]]}),v)}}]);