(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{xV5k:function(t,o,i){"use strict";i.r(o),i.d(o,"CarritoPageModule",(function(){return h}));var c=i("ofXK"),r=i("3Pt+"),e=i("TEn/"),n=i("tyNb"),a=i("mrSG"),s=i("fXoL"),b=i("J/xi");function l(t,o){if(1&t&&(s.Mb(0,"p",9),s.Mb(1,"strong"),s.ic(2,"Presentaci\xf3n: "),s.Lb(),s.ic(3),s.Lb()),2&t){const t=s.Wb().$implicit;s.zb(3),s.jc(t.descripcion)}}function d(t,o){if(1&t){const t=s.Nb();s.Mb(0,"div"),s.Mb(1,"ion-item-divider"),s.Mb(2,"ion-label"),s.ic(3),s.Lb(),s.Lb(),s.Mb(4,"ion-item"),s.Mb(5,"ion-label",8),s.Mb(6,"p",9),s.Mb(7,"strong"),s.ic(8,"Precio: "),s.Lb(),s.ic(9),s.Lb(),s.Mb(10,"p",9),s.Mb(11,"strong"),s.ic(12,"Subtotal: "),s.Lb(),s.ic(13),s.Lb(),s.hc(14,l,4,1,"p",10),s.Mb(15,"ion-button",11),s.Ub("click",(function(){s.ec(t);const i=o.$implicit;return s.Wb().deleteCar(i)})),s.Kb(16,"ion-icon",12),s.Lb(),s.Lb(),s.Mb(17,"ion-col",13),s.Mb(18,"ion-row",14),s.Mb(19,"ion-col",15),s.Mb(20,"h1",16),s.ic(21),s.Lb(),s.Lb(),s.Lb(),s.Mb(22,"ion-row",14),s.Mb(23,"ion-col",15),s.Mb(24,"ion-button",17),s.Ub("click",(function(){s.ec(t);const i=o.$implicit;return s.Wb().removeProduct(i)})),s.Kb(25,"ion-icon",18),s.Lb(),s.Mb(26,"ion-button",17),s.Ub("click",(function(){s.ec(t);const i=o.$implicit;return s.Wb().addMore(i)})),s.Kb(27,"ion-icon",19),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()}if(2&t){const t=o.$implicit;s.zb(3),s.kc(" ",t.nombre," "),s.zb(6),s.jc(t.precio),s.zb(4),s.jc(t.subtotal),s.zb(1),s.bc("ngIf",t.descripcion),s.zb(7),s.jc(t.cantidad)}}const u=[{path:"",component:(()=>{class t{constructor(t,o,i,c){this.alertController=t,this.router=o,this.notificationService=i,this.location=c,this.cartProducts=[],this.authentication=localStorage.getItem("currentAuthentication")}ngOnInit(){}goToRoute(t){this.router.navigate([""+t])}goToBack(){this.location.back()}deleteCar(t){return Object(a.a)(this,void 0,void 0,(function*(){const o=yield this.alertController.create({header:"Eliminar",message:"\xbfDesea eliminar el producto del carrito?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"Okay",handler:()=>{this.cartProducts.splice(this.cartProducts.indexOf(t),1),localStorage.removeItem("cart"),localStorage.setItem("cart",JSON.stringify(this.cartProducts)),this.btnDisabled=0==this.cartProducts.length}}]});yield o.present()}))}addMore(t){let o=parseInt(t.cantidad)+1,i=o*t.precio;i.toFixed(2);let c={cantidad:o,cantidadTotal:t.cantidadTotal,nombre:t.nombre,subtotal:i,precio:t.precio,producto:t.producto,presentacionProducto:t.presentacionProducto,descripcion:t.descripcion};for(var r in this.cartProducts)if(this.cartProducts[r]==t){this.cartProducts[r].cantidadTotal>this.cartProducts[r].cantidad?(this.cartProducts[r]=c,localStorage.setItem("cart",JSON.stringify(this.cartProducts))):this.notificationService.presentToast("Ya no hay existencias.");break}}removeProduct(t){let o=parseInt(t.cantidad)-1,i=o*t.precio;i.toFixed(2);let c={cantidad:o,cantidadTotal:t.cantidadTotal,nombre:t.nombre,subtotal:i,precio:t.precio,producto:t.producto,presentacionProducto:t.presentacionProducto,descripcion:t.descripcion};for(var r in this.cartProducts)if(this.cartProducts[r]==t){this.cartProducts[r].cantidad>1&&(this.cartProducts[r]=c,localStorage.setItem("cart",JSON.stringify(this.cartProducts)));break}}ionViewWillEnter(){this.cartProducts=JSON.parse(localStorage.getItem("cart")),this.btnDisabled=0==this.cartProducts.length}confirmarCarrito(){this.goToRoute("compra")}}return t.\u0275fac=function(o){return new(o||t)(s.Jb(e.b),s.Jb(n.g),s.Jb(b.a),s.Jb(c.f))},t.\u0275cmp=s.Db({type:t,selectors:[["app-carrito"]],decls:17,vars:2,consts:[["translucent","true"],["slot","start"],["defaultHref","/cliente/categoria"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],["expand","block","fill","solid","type","button",3,"disabled","click"],["name","checkmark-circle-outline","slot","start"],["color","dark"],[1,"text"],["class","text",4,"ngIf"],["size","small","slot","end","color","danger",3,"click"],["name","trash"],["size","4","slot","end",2,"padding","0px"],["justify-content-center","","align-items-center","",2,"padding","0px"],[2,"text-align","center"],[2,"font-family","Baloo"],["size","small",3,"click"],["name","remove"],["name","add"]],template:function(t,o){1&t&&(s.Mb(0,"ion-header",0),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-buttons",1),s.Kb(3,"ion-back-button",2),s.Lb(),s.Mb(4,"ion-title"),s.ic(5,"Mi Carrito"),s.Lb(),s.Lb(),s.Lb(),s.Mb(6,"ion-content"),s.Mb(7,"ion-header",3),s.Mb(8,"ion-toolbar"),s.Mb(9,"ion-title",4),s.ic(10,"Mi Carrito"),s.Lb(),s.Lb(),s.Lb(),s.Mb(11,"ion-list"),s.hc(12,d,28,5,"div",5),s.Mb(13,"ion-button",6),s.Ub("click",(function(){return o.confirmarCarrito()})),s.Kb(14,"ion-icon",7),s.ic(15," Confirmar Carrito "),s.Lb(),s.Kb(16,"br"),s.Lb(),s.Lb()),2&t&&(s.zb(12),s.bc("ngForOf",o.cartProducts),s.zb(1),s.bc("disabled",o.btnDisabled))},directives:[e.t,e.Q,e.h,e.e,e.f,e.P,e.o,e.z,c.h,e.g,e.u,e.x,e.y,e.w,c.i,e.n,e.C],styles:[""]}),t})()}];let p=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(o){return new(o||t)},imports:[[n.i.forChild(u)],n.i]}),t})(),h=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(o){return new(o||t)},imports:[[c.b,r.a,e.R,p]]}),t})()}}]);