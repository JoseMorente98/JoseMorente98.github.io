function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"7Snz":function(e,t,n){"use strict";n.r(t),n.d(t,"CategoriaPageModule",(function(){return M}));var i=n("ofXK"),o=n("3Pt+"),a=n("TEn/"),r=n("tyNb"),s=n("mrSG"),c=n("m8WC"),l=n("fXoL"),d=n("J/xi"),u=n("LazK"),h=n("riPR");function b(e,t){if(1&e){var n=l.Nb();l.Mb(0,"img",17),l.Ub("click",(function(){l.ec(n);var e=l.Wb().$implicit;return l.Wb().getDetalle(e)})),l.Lb()}if(2&e){var i=l.Wb().$implicit;l.cc("src",i.imagen,l.fc)}}function p(e,t){if(1&e){var n=l.Nb();l.Mb(0,"img",18),l.Ub("click",(function(){l.ec(n);var e=l.Wb().$implicit;return l.Wb().getDetalle(e)})),l.Lb()}}function g(e,t){if(1&e){var n=l.Nb();l.Mb(0,"ion-slide"),l.Mb(1,"div",11),l.hc(2,b,1,1,"img",12),l.hc(3,p,1,0,"img",13),l.Mb(4,"div",14),l.Ub("click",(function(){l.ec(n);var e=t.$implicit;return l.Wb().getDetalle(e)})),l.Mb(5,"div",15),l.Mb(6,"a"),l.Mb(7,"h5"),l.ic(8),l.Lb(),l.Lb(),l.Kb(9,"div",16),l.Mb(10,"p"),l.ic(11),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()}if(2&e){var i=t.$implicit;l.zb(2),l.bc("ngIf",i.imagen),l.zb(1),l.bc("ngIf",!i.imagen),l.zb(5),l.jc(i.nombre),l.zb(3),l.jc(i.descripcion)}}function f(e,t){if(1&e){var n=l.Nb();l.Mb(0,"ion-fab",19),l.Mb(1,"ion-fab-button",2),l.Ub("click",(function(){return l.ec(n),l.Wb().presentModal()})),l.Kb(2,"ion-icon",20),l.Lb(),l.Lb()}}var m,v,w,x=[{path:"",component:(m=function(){function e(t,n,i,o,a,r,s,c){var l=this;_classCallCheck(this,e),this.loadingController=t,this.notificacionService=n,this.categoriaService=i,this.alertController=o,this.router=a,this.modalController=r,this.actionSheetController=s,this.events=c,this.getAll=function(){l.notificacionService.presentLoading("Cargando..."),l.categoriaService.getAll().subscribe((function(e){l.data=[],l.data=e,l.notificacionService.dismissLoading()}),(function(e){l.notificacionService.dismissLoading()}))},this.slidesOpts={grabCursor:!0,cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94},on:{beforeInit:function(){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");var e={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};this.params=Object.assign(this.params,e),this.originalParams=Object.assign(this.originalParams,e)},setTranslate:function(){var e,t=this.$el,n=this.$wrapperEl,i=this.slides,o=this.width,a=this.height,r=this.rtlTranslate,s=this.size,c=this.params.cubeEffect,l=this.isHorizontal(),d=this.virtual&&this.params.virtual.enabled,u=0;c.shadow&&(l?(0===(e=n.find(".swiper-cube-shadow")).length&&(e=this.$('<div class="swiper-cube-shadow"></div>'),n.append(e)),e.css({height:o+"px"})):0===(e=t.find(".swiper-cube-shadow")).length&&(e=this.$('<div class="swiper-cube-shadow"></div>'),t.append(e)));for(var h=0;h<i.length;h+=1){var b=i.eq(h),p=h;d&&(p=parseInt(b.attr("data-swiper-slide-index"),10));var g=90*p,f=Math.floor(g/360);r&&(g=-g,f=Math.floor(-g/360));var m=Math.max(Math.min(b[0].progress,1),-1),v=0,w=0,x=0;p%4==0?(v=4*-f*s,x=0):(p-1)%4==0?(v=0,x=4*-f*s):(p-2)%4==0?(v=s+4*f*s,x=s):(p-3)%4==0&&(v=-s,x=3*s+4*s*f),r&&(v=-v),l||(w=v,v=0);var C="rotateX(".concat(l?0:-g,"deg) rotateY(").concat(l?g:0,"deg) translate3d(").concat(v,"px, ").concat(w,"px, ").concat(x,"px)");if(m<=1&&m>-1&&(u=90*p+90*m,r&&(u=90*-p-90*m)),b.transform(C),c.slideShadows){var M=b.find(l?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),k=b.find(l?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===M.length&&(M=this.$('<div class="swiper-slide-shadow-'.concat(l?"left":"top",'"></div>')),b.append(M)),0===k.length&&(k=this.$('<div class="swiper-slide-shadow-'.concat(l?"right":"bottom",'"></div>')),b.append(k)),M.length&&(M[0].style.opacity=Math.max(-m,0)),k.length&&(k[0].style.opacity=Math.max(m,0))}}if(n.css({"-webkit-transform-origin":"50% 50% -".concat(s/2,"px"),"-moz-transform-origin":"50% 50% -".concat(s/2,"px"),"-ms-transform-origin":"50% 50% -".concat(s/2,"px"),"transform-origin":"50% 50% -".concat(s/2,"px")}),c.shadow)if(l)e.transform("translate3d(0px, ".concat(o/2+c.shadowOffset,"px, ").concat(-o/2,"px) rotateX(90deg) rotateZ(0deg) scale(").concat(c.shadowScale,")"));else{var y=Math.abs(u)-90*Math.floor(Math.abs(u)/90),S=1.5-(Math.sin(2*y*Math.PI/360)/2+Math.cos(2*y*Math.PI/360)/2),A=c.shadowScale/S;e.transform("scale3d(".concat(c.shadowScale,", 1, ").concat(A,") translate3d(0px, ").concat(a/2+c.shadowOffset,"px, ").concat(-a/2/A,"px) rotateX(-90deg)"))}n.transform("translate3d(0px,0,".concat(this.browser.isSafari||this.browser.isUiWebView?-s/2:0,"px) rotateX(").concat(this.isHorizontal()?0:u,"deg) rotateY(").concat(this.isHorizontal()?-u:0,"deg)"))},setTransition:function(e){var t=this.$el;this.slides.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),this.params.cubeEffect.shadow&&!this.isHorizontal()&&t.find(".swiper-cube-shadow").transition(e)}}},this.events.subscribe("categoria:get",(function(e){l.getAll()}))}return _createClass(e,[{key:"ngOnInit",value:function(){localStorage.getItem("cart")||localStorage.setItem("cart",JSON.stringify([])),console.log("ngOnInit")}},{key:"goToRoute",value:function(e){this.router.navigate([""+e])}},{key:"ionViewDidEnter",value:function(){console.log("ionViewDidEnter"),this.administratorApp=localStorage.getItem("currentType"),this.getAll()}},{key:"getDetalle",value:function(e){"Administrador"==this.administratorApp?0==e.productos.length&&0==e.subcategorias.length?this.presentActionSheet(e):e.productos.length>=0&&0==e.subcategorias.length?this.presentActionSheet2(e):0==e.productos.length&&e.subcategorias.length>=0&&this.presentActionSheet3(e):0==e.productos.length&&0==e.subcategorias.length?this.goToRoute("subcategoria/"+e.id):e.productos.length>=0&&0==e.subcategorias.length?this.goToRoute("producto/"+e.id):0==e.productos.length&&e.subcategorias.length>=0&&this.goToRoute("subcategoria/"+e.id)}},{key:"presentActionSheet",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:function(){i.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:function(){i.presentAlert(e.id)}},{text:"Productos",icon:"pricetags-outline",handler:function(){console.log("Share clicked"),i.goToRoute("producto/"+e.id)}},{text:"Subcategor\xedas",icon:"copy-outline",handler:function(){console.log("Play clicked"),i.goToRoute("subcategoria/"+e.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"presentActionSheet2",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:function(){i.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:function(){i.presentAlert(e.id)}},{text:"Productos",icon:"pricetags-outline",handler:function(){console.log("Share clicked"),i.goToRoute("producto/"+e.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"presentActionSheet3",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:function(){i.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:function(){i.presentAlert(e.id)}},{text:"Subcategor\xedas",icon:"copy-outline",handler:function(){console.log("Play clicked"),i.goToRoute("subcategoria/"+e.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:function(){console.log("Cancel clicked")}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getProducts",value:function(e,t,n){"Administrador"==this.administratorApp?this.presentAlert(e):this.goToRoute(t.length>0?"subcategoria/"+e:"producto/"+e)}},{key:"presentModal",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:c.a,componentProps:{value:e}});case 2:return(n=t.sent).onDidDismiss().then((function(e){e.data&&i.getAll()})),t.next=6,n.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})))}},{key:"presentAlert",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({header:"Eliminar",message:"\xbfDeseas eliminar la categor\xeda?",cssClass:"my-custom-class",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:function(e){}},{text:"Aceptar",handler:function(){i.delete(e)}}]});case 2:return n=t.sent,t.next=5,n.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"delete",value:function(e){var t=this;this.categoriaService.delete(e).subscribe((function(e){t.notificacionService.presentAlert("Categor\xeda Eliminada","La categor\xeda fue eliminada exitosamente."),t.getAll()}),(function(e){console}))}}]),e}(),m.\u0275fac=function(e){return new(e||m)(l.Jb(a.T),l.Jb(d.a),l.Jb(u.a),l.Jb(a.b),l.Jb(r.g),l.Jb(a.U),l.Jb(a.a),l.Jb(h.a))},m.\u0275cmp=l.Db({type:m,selectors:[["app-categoria"]],decls:18,vars:4,consts:[["translucent","true"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","cart-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],["slot","end"],["pager","true",2,"height","90%",3,"options"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"categories_post"],["class","card-img rounded-0","alt","post",3,"src","click",4,"ngIf"],["class","card-img rounded-0","src","https://res.cloudinary.com/devgea-s-a/image/upload/v1595208129/Finca%20Cienaguilla/dcvl1m07jfbf4lbdqhon.png","alt","post",3,"click",4,"ngIf"],[1,"categories_details",3,"click"],[1,"categories_text"],[1,"border_line"],["alt","post",1,"card-img","rounded-0",3,"src","click"],["src","https://res.cloudinary.com/devgea-s-a/image/upload/v1595208129/Finca%20Cienaguilla/dcvl1m07jfbf4lbdqhon.png","alt","post",1,"card-img","rounded-0",3,"click"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-outline"]],template:function(e,t){1&e&&(l.Mb(0,"ion-header",0),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-title"),l.ic(3,"Categor\xedas"),l.Lb(),l.Mb(4,"ion-buttons",1),l.Mb(5,"ion-button",2),l.Ub("click",(function(){return t.goToRoute("carrito")})),l.Kb(6,"ion-icon",3),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(7,"ion-content",4),l.Mb(8,"ion-header",5),l.Mb(9,"ion-toolbar"),l.Mb(10,"ion-title",6),l.ic(11,"Categor\xedas"),l.Lb(),l.Mb(12,"ion-buttons",7),l.Mb(13,"ion-button",2),l.Ub("click",(function(){return t.goToRoute("carrito")})),l.Kb(14,"ion-icon",3),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(15,"ion-slides",8),l.hc(16,g,12,4,"ion-slide",9),l.Lb(),l.hc(17,f,3,0,"ion-fab",10),l.Lb()),2&e&&(l.zb(7),l.bc("fullscreen",!0),l.zb(8),l.bc("options",t.slidesOpts),l.zb(1),l.bc("ngForOf",t.data),l.zb(1),l.bc("ngIf","Administrador"==t.administratorApp))},directives:[a.t,a.Q,a.P,a.h,a.g,a.u,a.o,a.J,i.h,i.i,a.I,a.q,a.r],styles:[""]}),m)}],C=((w=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:w}),w.\u0275inj=l.Gb({factory:function(e){return new(e||w)},imports:[[r.i.forChild(x)],r.i]}),w),M=((v=function e(){_classCallCheck(this,e)}).\u0275mod=l.Hb({type:v}),v.\u0275inj=l.Gb({factory:function(e){return new(e||v)},imports:[[i.b,o.a,a.R,C]]}),v)}}]);