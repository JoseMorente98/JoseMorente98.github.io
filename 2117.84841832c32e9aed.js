"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2117],{2117:(j,m,r)=>{r.r(m),r.d(m,{DetalleVentasPageModule:()=>F});var c=r(177),d=r(4341),i=r(5150),u=r(8986),p=r(467),e=r(3953),v=r(3656),f=r(9708);function h(t,o){if(1&t&&(e.j41(0,"p"),e.EFF(1),e.k0s()),2&t){const a=e.XpG().$implicit;e.R7$(),e.Lme("Vendedor: ",a.usuario.nombre," ",a.usuario.apellido,"")}}function V(t,o){1&t&&(e.j41(0,"p"),e.EFF(1,"No disponible"),e.k0s())}function D(t,o){if(1&t){const a=e.RV6();e.j41(0,"ion-item-sliding")(1,"ion-item-options",7)(2,"ion-item-option",8),e.bIt("click",function(){const l=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.actualizarEstado(l.id,"CANCELADO"))}),e.nrm(3,"ion-icon",9),e.EFF(4," Cancelar "),e.k0s()(),e.j41(5,"ion-item",3),e.bIt("click",function(){const l=e.eBV(a).$implicit,s=e.XpG();return e.Njj(s.goToRoute(l.id))}),e.j41(6,"ion-thumbnail",2),e.nrm(7,"ion-icon",10),e.k0s(),e.j41(8,"ion-label")(9,"h3"),e.EFF(10),e.k0s(),e.j41(11,"p"),e.EFF(12),e.k0s(),e.DNE(13,h,2,2,"p",11)(14,V,2,0,"p",11),e.j41(15,"p"),e.EFF(16),e.k0s()()()()}if(2&t){const a=o.$implicit;e.R7$(10),e.SpI("Venta No. ",a.id,""),e.R7$(2),e.Lme("Cliente: ",a.cliente.nombre," ",a.cliente.apellido,""),e.R7$(),e.Y8G("ngIf",a.usuario),e.R7$(),e.Y8G("ngIf",null==a.usuario),e.R7$(2),e.SpI("Total: Q ",a.total,"")}}const P=[{path:"",component:(()=>{var t;class o{constructor(n,l,s,g){this.navController=n,this.router=l,this.ventaService=s,this.alertController=g,this.ventas=[]}ngOnInit(){var{informacion:n}=this.router.getCurrentNavigation().extras.state;this.informacion=n,this.getAll(n)}getAll(n){this.ventaService.getAllVentasPorUsuario(n).subscribe({next:l=>{this.ventas=l,this.ventas.reverse()}})}goToRoute(n){this.router.navigate(["admin/detalle-venta",n])}actualizarEstado(n,l){var s=this;return(0,p.A)(function*(){yield(yield s.alertController.create({header:"Cancelar",message:"\xbfEst\xe1s seguro de que deseas cancelar la siguiente venta?",cssClass:"my-custom-class",buttons:[{text:"Cancelar",role:"cancel",handler:C=>{}},{text:"Aceptar",handler:()=>{s.ventaService.cambiarEstadoVenta({id:n,estado_venta:l}).subscribe({next:C=>{s.getAll(s.informacion)}})}}]})).present()})()}onBack(){this.navController.back()}}return(t=o).\u0275fac=function(n){return new(n||t)(e.rXU(v.q9),e.rXU(u.Ix),e.rXU(f.s),e.rXU(i.hG))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-detalle-ventas"]],decls:10,vars:2,consts:[["mode","ios"],["color","primary"],["slot","start"],[3,"click"],["slot","icon-only","name","chevron-back-circle"],[3,"fullscreen"],[4,"ngFor","ngForOf"],["side","start"],["color","danger",3,"click"],["slot","end","name","close"],["name","pricetag","color","primary",2,"width","100%","height","100%"],[4,"ngIf"]],template:function(n,l){1&n&&(e.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2)(3,"ion-button",3),e.bIt("click",function(){return l.onBack()}),e.nrm(4,"ion-icon",4),e.k0s()(),e.j41(5,"ion-title"),e.EFF(6,"VENTAS"),e.k0s()()(),e.j41(7,"ion-content",5)(8,"ion-list"),e.DNE(9,D,17,6,"ion-item-sliding",6),e.k0s()()),2&n&&(e.R7$(7),e.Y8G("fullscreen",!0),e.R7$(2),e.Y8G("ngForOf",l.ventas))},dependencies:[c.Sq,c.bT,i.Jm,i.QW,i.W9,i.eU,i.iq,i.uz,i.LU,i.CE,i.A7,i.he,i.nf,i.Zx,i.BC,i.ai]}),o})()}];let _=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[u.iI.forChild(P),u.iI]}),o})(),F=(()=>{var t;class o{}return(t=o).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[c.MD,d.YN,i.bv,_]}),o})()}}]);