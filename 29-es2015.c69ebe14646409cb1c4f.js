(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"Z/pz":function(e,t,i){"use strict";i.r(t),i.d(t,"PresentacionPageModule",(function(){return M}));var n=i("ofXK"),o=i("3Pt+"),a=i("TEn/"),s=i("tyNb"),r=i("mrSG"),c=i("fXoL"),l=i("J/xi"),b=i("XDzg");function d(e,t){1&e&&c.Kb(0,"img",18)}function u(e,t){if(1&e&&c.Kb(0,"img",19),2&e){const e=c.Wb();c.cc("src",e.strImage,c.fc)}}let h=(()=>{class e{constructor(e,t,i,n){this.modalController=e,this.notificacionService=t,this.categoriaService=i,this.navParams=n,this.disabledBtn=!1,this.data={id:"",nombre:"",descripcion:""}}ngOnInit(){this.data.id=this.navParams.get("value"),this.data.id&&this.getSingle(+this.data.id)}closeModal(e){this.modalController.dismiss(e)}getSingle(e){this.categoriaService.getSingle(e).subscribe(e=>{this.data=e,this.strImage=e.imagen},e=>{})}saveChanges(){this.validarCampos()&&(this.disabledBtn=!0,this.data.id?this.update():this.create())}validarCampos(){if(this.data.nombre){if(this.data.descripcion)return!0;this.notificacionService.presentToast("La descripci\xf3n es requerida.")}else this.notificacionService.presentToast("El nombre es requerido.");return!1}create(){this.categoriaService.create(this.data).subscribe(e=>{this.closeModal(e),this.notificacionService.presentAlert("Presentaci\xf3n Agregada","La presentaci\xf3n se ha registrado exitosamente.")},e=>{this.notificacionService.presentToast("Lo sentimos, ha ocurrido un error intenta m\xe1s tarde.")})}update(){this.categoriaService.update(this.data).subscribe(e=>{this.closeModal(e),this.notificacionService.presentAlert("Presentaci\xf3n Actualizada","La presentaci\xf3n se ha actualizados exitosamente.")},e=>{this.notificacionService.presentToast("Lo sentimos, ha ocurrido un error intenta m\xe1s tarde.")})}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(a.U),c.Jb(l.a),c.Jb(b.a),c.Jb(a.W))},e.\u0275cmp=c.Db({type:e,selectors:[["app-modal-presentacion"]],decls:30,vars:6,consts:[["translucent","true"],["slot","end"],[3,"click"],["slot","icon-only","name","close-circle-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[2,"width","100%","height","350px"],[1,"container"],["class","img-center","src","https://res.cloudinary.com/devgea-s-a/image/upload/v1594950613/Finca%20Cienaguilla/mkdr6jfwkclzdzubuuwb.png",4,"ngIf"],["class","img-center",3,"src",4,"ngIf"],[3,"ngSubmit"],["position","floating"],["name","person-outline"],["type","text","name","nombre","required","true","maxlength","255",3,"ngModel","ngModelChange"],["type","text","rows","6","cols","20","name","descripcion","required","true","maxlength","255",3,"ngModel","ngModelChange"],["color","primary","expand","block","type","submit",3,"disabled"],["name","save-outline","slot","start"],["src","https://res.cloudinary.com/devgea-s-a/image/upload/v1594950613/Finca%20Cienaguilla/mkdr6jfwkclzdzubuuwb.png",1,"img-center"],[1,"img-center",3,"src"]],template:function(e,t){1&e&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-title"),c.ic(3,"Presentaci\xf3n"),c.Lb(),c.Mb(4,"ion-buttons",1),c.Mb(5,"ion-button",2),c.Ub("click",(function(){return t.closeModal()})),c.Kb(6,"ion-icon",3),c.Lb(),c.Lb(),c.Lb(),c.Lb(),c.Mb(7,"ion-content",4),c.Mb(8,"ion-header",5),c.Mb(9,"ion-toolbar"),c.Mb(10,"ion-title",6),c.ic(11,"Presentaci\xf3n"),c.Lb(),c.Lb(),c.Lb(),c.Mb(12,"div",7),c.Mb(13,"div",8),c.hc(14,d,1,0,"img",9),c.hc(15,u,1,1,"img",10),c.Lb(),c.Lb(),c.Mb(16,"form",11),c.Ub("ngSubmit",(function(){return t.saveChanges()})),c.Mb(17,"ion-item"),c.Mb(18,"ion-label",12),c.Kb(19,"ion-icon",13),c.ic(20," Nombre: "),c.Lb(),c.Mb(21,"ion-input",14),c.Ub("ngModelChange",(function(e){return t.data.nombre=e})),c.Lb(),c.Lb(),c.Mb(22,"ion-item"),c.Mb(23,"ion-label",12),c.Kb(24,"ion-icon",13),c.ic(25," Descripcion: "),c.Lb(),c.Mb(26,"ion-textarea",15),c.Ub("ngModelChange",(function(e){return t.data.descripcion=e})),c.Lb(),c.Lb(),c.Mb(27,"ion-button",16),c.Kb(28,"ion-icon",17),c.ic(29," Guardar Cambios "),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.zb(7),c.bc("fullscreen",!0),c.zb(7),c.bc("ngIf",!t.strImage),c.zb(1),c.bc("ngIf",t.strImage),c.zb(6),c.bc("ngModel",t.data.nombre),c.zb(5),c.bc("ngModel",t.data.descripcion),c.zb(1),c.bc("disabled",t.disabledBtn))},directives:[a.t,a.Q,a.P,a.h,a.g,a.u,a.o,n.i,o.j,o.f,o.g,a.w,a.y,a.v,a.ab,o.i,o.b,o.e,o.h,a.O],styles:["ion-content[_ngcontent-%COMP%]{--padding-start:15px;--padding-end:15px}"]}),e})();var g=i("cZdB");function p(e,t){if(1&e){const e=c.Nb();c.Mb(0,"ion-item",10),c.Ub("click",(function(){c.ec(e);const i=t.$implicit;return c.Wb().getDetalle(i)})),c.Kb(1,"ion-icon",11),c.Mb(2,"ion-label",12),c.Mb(3,"h3"),c.ic(4),c.Lb(),c.Mb(5,"p"),c.ic(6),c.Lb(),c.Lb(),c.Lb()}if(2&e){const e=t.$implicit;c.zb(4),c.jc(e.nombre),c.zb(2),c.jc(e.descripcion)}}const m=[{path:"",component:(()=>{class e{constructor(e,t,i,n,o,a,s,r){this.loadingController=e,this.notificacionService=t,this.presentacionService=i,this.alertController=n,this.router=o,this.modalController=a,this.actionSheetController=s,this.location=r,this.getAll=()=>{this.notificacionService.presentLoading("Cargando..."),this.presentacionService.getAll().subscribe(e=>{this.data=[],this.data=e,this.notificacionService.dismissLoading()},e=>{this.notificacionService.dismissLoading()})}}ngOnInit(){}goToRoute(e){this.router.navigate([""+e])}goToBack(){this.location.back()}ionViewDidEnter(){this.getAll()}getDetalle(e){this.presentActionSheet(e)}presentActionSheet(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.actionSheetController.create({header:"Presentaciones",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:()=>{this.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:()=>{this.presentAlert(e.id)}},{text:"Cancelar",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield t.present()}))}presentModal(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:h,componentProps:{value:e}});return t.onDidDismiss().then(e=>{e.data&&this.getAll()}),yield t.present()}))}presentAlert(e){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"Eliminar",message:"\xbfDeseas eliminar la presentaci\xf3n?",cssClass:"my-custom-class",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Aceptar",handler:()=>{this.delete(e)}}]});yield t.present()}))}delete(e){this.presentacionService.delete(e).subscribe(e=>{this.notificacionService.presentAlert("Presentaci\xf3n Eliminada","La presentaci\xf3n fue eliminada exitosamente."),this.getAll()},e=>{console})}}return e.\u0275fac=function(t){return new(t||e)(c.Jb(a.T),c.Jb(l.a),c.Jb(b.a),c.Jb(a.b),c.Jb(s.g),c.Jb(a.U),c.Jb(a.a),c.Jb(n.f))},e.\u0275cmp=c.Db({type:e,selectors:[["app-presentacion"]],decls:19,vars:5,consts:[["translucent","true"],["slot","start"],["defaultHref","/cliente/categoria"],[3,"ngModel","ngModelChange"],["collapse","condense"],["size","large"],["button","",3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add-outline"],["button","",3,"click"],["slot","start","name","albums-outline"],[1,"ion-text-wrap"]],template:function(e,t){1&e&&(c.Mb(0,"ion-header",0),c.Mb(1,"ion-toolbar"),c.Mb(2,"ion-buttons",1),c.Kb(3,"ion-back-button",2),c.Lb(),c.Mb(4,"ion-title"),c.ic(5,"Presentaci\xf3n"),c.Lb(),c.Lb(),c.Mb(6,"ion-toolbar"),c.Mb(7,"ion-searchbar",3),c.Ub("ngModelChange",(function(e){return t.search=e})),c.Lb(),c.Lb(),c.Lb(),c.Mb(8,"ion-content"),c.Mb(9,"ion-header",4),c.Mb(10,"ion-toolbar"),c.Mb(11,"ion-title",5),c.ic(12,"Presentaci\xf3n"),c.Lb(),c.Lb(),c.Lb(),c.Mb(13,"ion-list"),c.hc(14,p,7,2,"ion-item",6),c.Xb(15,"filter"),c.Lb(),c.Mb(16,"ion-fab",7),c.Mb(17,"ion-fab-button",8),c.Ub("click",(function(){return t.presentModal()})),c.Kb(18,"ion-icon",9),c.Lb(),c.Lb(),c.Lb()),2&e&&(c.zb(7),c.bc("ngModel",t.search),c.zb(7),c.bc("ngForOf",c.Yb(15,2,t.data,t.search)))},directives:[a.t,a.Q,a.h,a.e,a.f,a.P,a.D,a.ab,o.e,o.h,a.o,a.z,n.h,a.q,a.r,a.u,a.w,a.y],pipes:[g.a],styles:[""]}),e})()}];let f=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(m)],s.i]}),e})(),M=(()=>{class e{}return e.\u0275mod=c.Hb({type:e}),e.\u0275inj=c.Gb({factory:function(t){return new(t||e)},imports:[[n.b,o.a,a.R,f,g.b]]}),e})()}}]);