"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3485],{3485:(P,p,i)=>{i.r(p),i.d(p,{LoginPageModule:()=>M});var d=i(177),l=i(4341),r=i(5150),m=i(8986),o=i(3953),_=i(3656),v=i(8714),t=i(8570);function a(e,u){1&e&&o.nrm(0,"ion-icon",20)}function c(e,u){1&e&&o.nrm(0,"ion-icon",21)}const b=[{path:"",component:(()=>{var e;class u{constructor(n,s,f,g){this.router=n,this.navController=s,this.notificacionService=f,this.usuarioService=g,this.disabledBtn=!1,this.passwordType="password",this.passwordShow=!1,this.usuario={correo:"",password:""}}ngOnInit(){}goToRoute(n){this.router.navigate([`${n}`])}goToBack(){this.navController.back()}togglePassword(){this.passwordShow?(this.passwordShow=!1,this.passwordType="password"):(this.passwordShow=!0,this.passwordType="text")}authentication(){this.validar()&&(this.disabledBtn=!0,this.auth())}validar(){if(this.usuario.correo){if(this.usuario.password)return!0;this.notificacionService.presentToast("La contrase\xf1a es un campo obligatorio.")}else this.notificacionService.presentToast("El correo es un campo obligatorio.");return!1}auth(){this.usuarioService.login(this.usuario).subscribe({next:n=>{this.disabledBtn=!1,localStorage.setItem("currentUsuario",JSON.stringify(n)),localStorage.setItem("currentCarrito",JSON.stringify([])),this.goToRoute("ADMINISTRADOR"==n.tipo_usuario?"admin":"TIENDA"==n.tipo_usuario?"tienda":"ventas")},error:n=>{this.disabledBtn=!1,console.log(n),this.notificacionService.presentToast("Usuario o contrase\xf1a incorrectos.")}})}}return(e=u).\u0275fac=function(n){return new(n||e)(o.rXU(m.Ix),o.rXU(_.q9),o.rXU(v.c),o.rXU(t.o))},e.\u0275cmp=o.VBU({type:e,selectors:[["app-login"]],decls:26,vars:6,consts:[[1,"login-screen"],[1,"section-40"],[1,"section-image"],["src","./../../assets/images/logo.png",1,"img-center"],[1,"section-60"],[1,"section-form"],[1,"form-login",3,"ngSubmit"],["lines","none"],[1,"title"],[1,"subtitle"],["lines","none",1,"input-item"],["name","at-outline","aria-hidden","true","slot","start"],["name","correo","label","Correo electr\xf3nico","labelPlacement","floating","placeholder","admin@katachistore.com","color","primary",3,"ngModelChange","ngModel"],["name","lock-closed-outline","aria-hidden","true","slot","start"],["name","password","label","Contrase\xf1a","labelPlacement","floating","placeholder","Contrase\xf1a","color","primary",3,"ngModelChange","ngModel","type"],["fill","clear","slot","end","aria-label","Show/hide",3,"click"],["name","eye-off-outline","slot","icon-only",4,"ngIf"],["name","eye-outline","slot","icon-only",4,"ngIf"],["color","primary","expand","block","type","submit",3,"disabled"],["name","log-out-outline","slot","start"],["name","eye-off-outline","slot","icon-only"],["name","eye-outline","slot","icon-only"]],template:function(n,s){1&n&&(o.j41(0,"ion-content")(1,"div",0)(2,"div",1)(3,"div",2),o.nrm(4,"img",3),o.k0s()(),o.j41(5,"div",4)(6,"div",5)(7,"form",6),o.bIt("ngSubmit",function(){return s.authentication()}),o.j41(8,"ion-item",7)(9,"ion-label")(10,"h1",8),o.EFF(11,"Iniciar Sesi\xf3n"),o.k0s(),o.j41(12,"p",9),o.EFF(13,"Bienvenido al sistema de ventas de Katachi Store GT"),o.k0s()()(),o.j41(14,"ion-item",10),o.nrm(15,"ion-icon",11),o.j41(16,"ion-input",12),o.mxI("ngModelChange",function(g){return o.DH7(s.usuario.correo,g)||(s.usuario.correo=g),g}),o.k0s()(),o.j41(17,"ion-item",10),o.nrm(18,"ion-icon",13),o.j41(19,"ion-input",14),o.mxI("ngModelChange",function(g){return o.DH7(s.usuario.password,g)||(s.usuario.password=g),g}),o.k0s(),o.j41(20,"ion-button",15),o.bIt("click",function(){return s.togglePassword()}),o.DNE(21,a,1,0,"ion-icon",16)(22,c,1,0,"ion-icon",17),o.k0s()(),o.j41(23,"ion-button",18),o.nrm(24,"ion-icon",19),o.EFF(25," Iniciar Sesi\xf3n "),o.k0s()()()()()()),2&n&&(o.R7$(16),o.R50("ngModel",s.usuario.correo),o.R7$(3),o.R50("ngModel",s.usuario.password),o.Y8G("type",s.passwordType),o.R7$(2),o.Y8G("ngIf",!s.passwordShow),o.R7$(),o.Y8G("ngIf",s.passwordShow),o.R7$(),o.Y8G("disabled",s.disabledBtn))},dependencies:[d.bT,l.qT,l.BC,l.cb,l.vS,l.cV,r.Jm,r.W9,r.iq,r.$w,r.uz,r.he,r.Gw],styles:[".login-screen[_ngcontent-%COMP%]{width:100%;height:100%}.section-40[_ngcontent-%COMP%]{height:300px}.section-60[_ngcontent-%COMP%]{height:auto;background:#fcb71c}.section-image[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0 0 50px;background:linear-gradient(0deg,#fcb71c,#fb5b0c);display:flex;justify-content:center;align-items:center}.img-center[_ngcontent-%COMP%]{width:250px;height:auto}.section-form[_ngcontent-%COMP%]{border-radius:50px 0 0;width:100%;height:100%;background-color:#fff}.form-login[_ngcontent-%COMP%]{padding:30px 10px 0}.title[_ngcontent-%COMP%]{font-weight:700}.subtitle[_ngcontent-%COMP%]{font-size:1rem}"]}),u})()}];let y=(()=>{var e;class u{}return(e=u).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[m.iI.forChild(b),m.iI]}),u})(),M=(()=>{var e;class u{}return(e=u).\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.$C({type:e}),e.\u0275inj=o.G2t({imports:[d.MD,l.YN,r.bv,y]}),u})()},8714:(P,p,i)=>{i.d(p,{c:()=>m});var d=i(467),l=i(3953),r=i(5150);let m=(()=>{var o;class _{constructor(t,a,c){this.toastController=t,this.loadingController=a,this.alertController=c,this.isLoading=!1}presentToast(t,a="bottom"){var c=this;return(0,d.A)(function*(){(yield c.toastController.create({message:t,duration:2500,position:a})).present()})()}presentAlert(t,a){var c=this;return(0,d.A)(function*(){yield(yield c.alertController.create({cssClass:"my-custom-class",header:t,message:a,buttons:["OK"]})).present()})()}presentLoading(t){var a=this;return(0,d.A)(function*(){return a.isLoading=!0,yield a.loadingController.create({message:t,duration:1e3}).then(c=>{c.present().then(()=>{a.isLoading||c.dismiss()})})})()}dismissLoading(){var t=this;return(0,d.A)(function*(){return yield t.loadingController.getTop().then(a=>{a&&(t.isLoading=!1,t.loadingController.dismiss())})})()}}return(o=_).\u0275fac=function(t){return new(t||o)(l.KVO(r.K_),l.KVO(r.Xi),l.KVO(r.hG))},o.\u0275prov=l.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),_})()}}]);