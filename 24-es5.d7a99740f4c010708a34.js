function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{xV5k:function(t,e,i){"use strict";i.r(e),i.d(e,"CarritoPageModule",(function(){return g}));var o=i("ofXK"),r=i("3Pt+"),n=i("TEn/"),c=i("tyNb"),a=i("mrSG"),s=i("fXoL"),b=i("J/xi");function l(t,e){if(1&t&&(s.Mb(0,"p",9),s.Mb(1,"strong"),s.ic(2,"Presentaci\xf3n: "),s.Lb(),s.ic(3),s.Lb()),2&t){var i=s.Wb().$implicit;s.zb(3),s.jc(i.descripcion)}}function u(t,e){if(1&t){var i=s.Nb();s.Mb(0,"div"),s.Mb(1,"ion-item-divider"),s.Mb(2,"ion-label"),s.ic(3),s.Lb(),s.Lb(),s.Mb(4,"ion-item"),s.Mb(5,"ion-label",8),s.Mb(6,"p",9),s.Mb(7,"strong"),s.ic(8,"Precio: "),s.Lb(),s.ic(9),s.Lb(),s.Mb(10,"p",9),s.Mb(11,"strong"),s.ic(12,"Subtotal: "),s.Lb(),s.ic(13),s.Lb(),s.hc(14,l,4,1,"p",10),s.Mb(15,"ion-button",11),s.Ub("click",(function(){s.ec(i);var t=e.$implicit;return s.Wb().deleteCar(t)})),s.Kb(16,"ion-icon",12),s.Lb(),s.Lb(),s.Mb(17,"ion-col",13),s.Mb(18,"ion-row",14),s.Mb(19,"ion-col",15),s.Mb(20,"h1",16),s.ic(21),s.Lb(),s.Lb(),s.Lb(),s.Mb(22,"ion-row",14),s.Mb(23,"ion-col",15),s.Mb(24,"ion-button",17),s.Ub("click",(function(){s.ec(i);var t=e.$implicit;return s.Wb().removeProduct(t)})),s.Kb(25,"ion-icon",18),s.Lb(),s.Mb(26,"ion-button",17),s.Ub("click",(function(){s.ec(i);var t=e.$implicit;return s.Wb().addMore(t)})),s.Kb(27,"ion-icon",19),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Lb()}if(2&t){var o=e.$implicit;s.zb(3),s.kc(" ",o.nombre," "),s.zb(6),s.jc(o.precio),s.zb(4),s.jc(o.subtotal),s.zb(1),s.bc("ngIf",o.descripcion),s.zb(7),s.jc(o.cantidad)}}var d,f,p,h=[{path:"",component:(d=function(){function t(e,i,o,r){_classCallCheck(this,t),this.alertController=e,this.router=i,this.notificationService=o,this.location=r,this.cartProducts=[],this.authentication=localStorage.getItem("currentAuthentication")}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"goToRoute",value:function(t){this.router.navigate([""+t])}},{key:"goToBack",value:function(){this.location.back()}},{key:"deleteCar",value:function(t){return Object(a.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i,o=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertController.create({header:"Eliminar",message:"\xbfDesea eliminar el producto del carrito?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){}},{text:"Okay",handler:function(){o.cartProducts.splice(o.cartProducts.indexOf(t),1),localStorage.removeItem("cart"),localStorage.setItem("cart",JSON.stringify(o.cartProducts)),o.btnDisabled=0==o.cartProducts.length}}]});case 2:return i=e.sent,e.next=5,i.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"addMore",value:function(t){var e=parseInt(t.cantidad)+1,i=e*t.precio;i.toFixed(2);var o={cantidad:e,cantidadTotal:t.cantidadTotal,nombre:t.nombre,subtotal:i,precio:t.precio,producto:t.producto,presentacionProducto:t.presentacionProducto,descripcion:t.descripcion};for(var r in this.cartProducts)if(this.cartProducts[r]==t){this.cartProducts[r].cantidadTotal>this.cartProducts[r].cantidad?(this.cartProducts[r]=o,localStorage.setItem("cart",JSON.stringify(this.cartProducts))):this.notificationService.presentToast("Ya no hay existencias.");break}}},{key:"removeProduct",value:function(t){var e=parseInt(t.cantidad)-1,i=e*t.precio;i.toFixed(2);var o={cantidad:e,cantidadTotal:t.cantidadTotal,nombre:t.nombre,subtotal:i,precio:t.precio,producto:t.producto,presentacionProducto:t.presentacionProducto,descripcion:t.descripcion};for(var r in this.cartProducts)if(this.cartProducts[r]==t){this.cartProducts[r].cantidad>1&&(this.cartProducts[r]=o,localStorage.setItem("cart",JSON.stringify(this.cartProducts)));break}}},{key:"ionViewWillEnter",value:function(){this.cartProducts=JSON.parse(localStorage.getItem("cart")),this.btnDisabled=0==this.cartProducts.length}},{key:"confirmarCarrito",value:function(){this.goToRoute("compra")}}]),t}(),d.\u0275fac=function(t){return new(t||d)(s.Jb(n.b),s.Jb(c.g),s.Jb(b.a),s.Jb(o.f))},d.\u0275cmp=s.Db({type:d,selectors:[["app-carrito"]],decls:17,vars:2,consts:[["translucent","true"],["slot","start"],["defaultHref","/cliente/categoria"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],["expand","block","fill","solid","type","button",3,"disabled","click"],["name","checkmark-circle-outline","slot","start"],["color","dark"],[1,"text"],["class","text",4,"ngIf"],["size","small","slot","end","color","danger",3,"click"],["name","trash"],["size","4","slot","end",2,"padding","0px"],["justify-content-center","","align-items-center","",2,"padding","0px"],[2,"text-align","center"],[2,"font-family","Baloo"],["size","small",3,"click"],["name","remove"],["name","add"]],template:function(t,e){1&t&&(s.Mb(0,"ion-header",0),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-buttons",1),s.Kb(3,"ion-back-button",2),s.Lb(),s.Mb(4,"ion-title"),s.ic(5,"Mi Carrito"),s.Lb(),s.Lb(),s.Lb(),s.Mb(6,"ion-content"),s.Mb(7,"ion-header",3),s.Mb(8,"ion-toolbar"),s.Mb(9,"ion-title",4),s.ic(10,"Mi Carrito"),s.Lb(),s.Lb(),s.Lb(),s.Mb(11,"ion-list"),s.hc(12,u,28,5,"div",5),s.Mb(13,"ion-button",6),s.Ub("click",(function(){return e.confirmarCarrito()})),s.Kb(14,"ion-icon",7),s.ic(15," Confirmar Carrito "),s.Lb(),s.Kb(16,"br"),s.Lb(),s.Lb()),2&t&&(s.zb(12),s.bc("ngForOf",e.cartProducts),s.zb(1),s.bc("disabled",e.btnDisabled))},directives:[n.t,n.Q,n.h,n.e,n.f,n.P,n.o,n.z,o.h,n.g,n.u,n.x,n.y,n.w,o.i,n.n,n.C],styles:[""]}),d)}],m=((p=function t(){_classCallCheck(this,t)}).\u0275mod=s.Hb({type:p}),p.\u0275inj=s.Gb({factory:function(t){return new(t||p)},imports:[[c.i.forChild(h)],c.i]}),p),g=((f=function t(){_classCallCheck(this,t)}).\u0275mod=s.Hb({type:f}),f.\u0275inj=s.Gb({factory:function(t){return new(t||f)},imports:[[o.b,r.a,n.R,m]]}),f)}}]);