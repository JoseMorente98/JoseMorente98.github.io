(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{KOq6:function(t,e,i){"use strict";i.r(e),i.d(e,"SubcategoriaPageModule",(function(){return v}));var o=i("ofXK"),s=i("3Pt+"),a=i("TEn/"),n=i("tyNb"),r=i("mrSG"),c=i("m8WC"),l=i("fXoL"),d=i("J/xi"),h=i("LazK"),b=i("riPR");function u(t,e){if(1&t){const t=l.Nb();l.Mb(0,"img",19),l.Ub("click",(function(){l.ec(t);const e=l.Wb().$implicit;return l.Wb().getDetalle(e)})),l.Lb()}if(2&t){const t=l.Wb().$implicit;l.cc("src",t.imagen,l.fc)}}function p(t,e){if(1&t){const t=l.Nb();l.Mb(0,"img",20),l.Ub("click",(function(){l.ec(t);const e=l.Wb().$implicit;return l.Wb().getDetalle(e)})),l.Lb()}}function g(t,e){if(1&t){const t=l.Nb();l.Mb(0,"ion-slide"),l.Mb(1,"div",13),l.hc(2,u,1,1,"img",14),l.hc(3,p,1,0,"img",15),l.Mb(4,"div",16),l.Ub("click",(function(){l.ec(t);const i=e.$implicit;return l.Wb().getDetalle(i)})),l.Mb(5,"div",17),l.Mb(6,"a"),l.Mb(7,"h5"),l.ic(8),l.Lb(),l.Lb(),l.Kb(9,"div",18),l.Mb(10,"p"),l.ic(11),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Lb()}if(2&t){const t=e.$implicit;l.zb(2),l.bc("ngIf",t.imagen),l.zb(1),l.bc("ngIf",!t.imagen),l.zb(5),l.jc(t.nombre),l.zb(3),l.jc(t.descripcion)}}function f(t,e){if(1&t){const t=l.Nb();l.Mb(0,"ion-fab",21),l.Mb(1,"ion-fab-button",4),l.Ub("click",(function(){return l.ec(t),l.Wb().presentModal()})),l.Kb(2,"ion-icon",22),l.Lb(),l.Lb()}}const m=[{path:"",component:(()=>{class t{constructor(t,e,i,o,s,a,n,r,c,l){this.loadingController=t,this.notificacionService=e,this.categoriaService=i,this.alertController=o,this.router=s,this.modalController=a,this.actionSheetController=n,this.activatedRoute=r,this.location=c,this.events=l,this.getAll=()=>{this.notificacionService.presentLoading("Cargando..."),this.categoriaService.getSingle(this.parameter).subscribe(t=>{t.subcategorias.length>0?(this.data=[],this.data=t.subcategorias):this.data=[],this.notificacionService.dismissLoading()},t=>{this.data=[],this.notificacionService.dismissLoading()})},this.slidesOpts={grabCursor:!0,cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94},on:{beforeInit:function(){this.classNames.push(this.params.containerModifierClass+"cube"),this.classNames.push(this.params.containerModifierClass+"3d");const t={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};this.params=Object.assign(this.params,t),this.originalParams=Object.assign(this.originalParams,t)},setTranslate:function(){const t=this,{$el:e,$wrapperEl:i,slides:o,width:s,height:a,rtlTranslate:n,size:r}=t,c=t.params.cubeEffect,l=t.isHorizontal(),d=t.virtual&&t.params.virtual.enabled;let h,b=0;c.shadow&&(l?(h=i.find(".swiper-cube-shadow"),0===h.length&&(h=t.$('<div class="swiper-cube-shadow"></div>'),i.append(h)),h.css({height:s+"px"})):(h=e.find(".swiper-cube-shadow"),0===h.length&&(h=t.$('<div class="swiper-cube-shadow"></div>'),e.append(h))));for(let u=0;u<o.length;u+=1){const e=o.eq(u);let i=u;d&&(i=parseInt(e.attr("data-swiper-slide-index"),10));let s=90*i,a=Math.floor(s/360);n&&(s=-s,a=Math.floor(-s/360));const h=Math.max(Math.min(e[0].progress,1),-1);let p=0,g=0,f=0;i%4==0?(p=4*-a*r,f=0):(i-1)%4==0?(p=0,f=4*-a*r):(i-2)%4==0?(p=r+4*a*r,f=r):(i-3)%4==0&&(p=-r,f=3*r+4*r*a),n&&(p=-p),l||(g=p,p=0);const m=`rotateX(${l?0:-s}deg) rotateY(${l?s:0}deg) translate3d(${p}px, ${g}px, ${f}px)`;if(h<=1&&h>-1&&(b=90*i+90*h,n&&(b=90*-i-90*h)),e.transform(m),c.slideShadows){let i=e.find(l?".swiper-slide-shadow-left":".swiper-slide-shadow-top"),o=e.find(l?".swiper-slide-shadow-right":".swiper-slide-shadow-bottom");0===i.length&&(i=t.$(`<div class="swiper-slide-shadow-${l?"left":"top"}"></div>`),e.append(i)),0===o.length&&(o=t.$(`<div class="swiper-slide-shadow-${l?"right":"bottom"}"></div>`),e.append(o)),i.length&&(i[0].style.opacity=Math.max(-h,0)),o.length&&(o[0].style.opacity=Math.max(h,0))}}if(i.css({"-webkit-transform-origin":`50% 50% -${r/2}px`,"-moz-transform-origin":`50% 50% -${r/2}px`,"-ms-transform-origin":`50% 50% -${r/2}px`,"transform-origin":`50% 50% -${r/2}px`}),c.shadow)if(l)h.transform(`translate3d(0px, ${s/2+c.shadowOffset}px, ${-s/2}px) rotateX(90deg) rotateZ(0deg) scale(${c.shadowScale})`);else{const t=Math.abs(b)-90*Math.floor(Math.abs(b)/90),e=1.5-(Math.sin(2*t*Math.PI/360)/2+Math.cos(2*t*Math.PI/360)/2),i=c.shadowScale/e;h.transform(`scale3d(${c.shadowScale}, 1, ${i}) translate3d(0px, ${a/2+c.shadowOffset}px, ${-a/2/i}px) rotateX(-90deg)`)}i.transform(`translate3d(0px,0,${t.browser.isSafari||t.browser.isUiWebView?-r/2:0}px) rotateX(${t.isHorizontal()?0:b}deg) rotateY(${t.isHorizontal()?-b:0}deg)`)},setTransition:function(t){const{$el:e,slides:i}=this;i.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),this.params.cubeEffect.shadow&&!this.isHorizontal()&&e.find(".swiper-cube-shadow").transition(t)}}}}ngOnInit(){}ionViewDidEnter(){this.administratorApp=localStorage.getItem("currentType"),this.parameter=+this.activatedRoute.snapshot.paramMap.get("id"),this.getAll()}goToRoute(t){this.router.navigate([""+t])}goToBack(){this.events.publish("categoria:get",{user:"Refresh"}),this.location.back()}getDetalle(t){"Administrador"==this.administratorApp?0==t.productos.length&&0==t.subcategorias.length?this.presentActionSheet(t):t.productos.length>=0&&0==t.subcategorias.length?this.presentActionSheet2(t):0==t.productos.length&&t.subcategorias.length>=0&&this.presentActionSheet3(t):0==t.productos.length&&0==t.subcategorias.length?this.goToRoute("subcategoria/"+t.id):t.productos.length>=0&&0==t.subcategorias.length?this.goToRoute("producto/"+t.id):0==t.productos.length&&t.subcategorias.length>=0&&this.goToRoute("subcategoria/"+t.id)}presentActionSheet(t){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:()=>{this.presentModal(t.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:()=>{this.presentAlert(t.id)}},{text:"Productos",icon:"pricetags-outline",handler:()=>{console.log("Share clicked"),this.goToRoute("producto/"+t.id)}},{text:"Subcategor\xedas",icon:"copy-outline",handler:()=>{console.log("Play clicked"),this.goToRoute("subcategoria/"+t.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield e.present()}))}presentActionSheet2(t){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:()=>{this.presentModal(t.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:()=>{this.presentAlert(t.id)}},{text:"Productos",icon:"pricetags-outline",handler:()=>{console.log("Share clicked"),this.goToRoute("producto/"+t.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield e.present()}))}presentActionSheet3(t){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.actionSheetController.create({header:"Categor\xedas",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:()=>{this.presentModal(t.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:()=>{this.presentAlert(t.id)}},{text:"Subcategor\xedas",icon:"copy-outline",handler:()=>{console.log("Play clicked"),this.goToRoute("subcategoria/"+t.id)}},{text:"Cancel",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield e.present()}))}getProducts(t,e,i){"Administrador"==this.administratorApp?this.presentAlert(t):this.goToRoute(e.length>0?"subcategoria/"+t:"producto/"+t)}presentModal(t){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.modalController.create({component:c.a,componentProps:{value:t,categoria:this.parameter}});return e.onDidDismiss().then(t=>{t.data&&this.getAll()}),yield e.present()}))}presentAlert(t){return Object(r.a)(this,void 0,void 0,(function*(){const e=yield this.alertController.create({header:"Eliminar",message:"\xbfDeseas eliminar la categor\xeda?",cssClass:"my-custom-class",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:t=>{}},{text:"Aceptar",handler:()=>{this.delete(t)}}]});yield e.present()}))}delete(t){this.categoriaService.delete(t).subscribe(t=>{this.notificacionService.presentAlert("Categor\xeda Eliminada","La categor\xeda fue eliminada exitosamente."),this.getAll()},t=>{console})}}return t.\u0275fac=function(e){return new(e||t)(l.Jb(a.T),l.Jb(d.a),l.Jb(h.a),l.Jb(a.b),l.Jb(n.g),l.Jb(a.U),l.Jb(a.a),l.Jb(n.a),l.Jb(o.f),l.Jb(b.a))},t.\u0275cmp=l.Db({type:t,selectors:[["app-subcategoria"]],decls:20,vars:4,consts:[["translucent","true"],["slot","start"],["defaultHref","/cliente/categoria"],["collapse","true","slot","end"],[3,"click"],["slot","icon-only","name","cart-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],["slot","end"],["pager","true",2,"height","90%",3,"options"],[4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed",4,"ngIf"],[1,"categories_post"],["class","card-img rounded-0","alt","post",3,"src","click",4,"ngIf"],["class","card-img rounded-0","src","https://res.cloudinary.com/devgea-s-a/image/upload/v1595208129/Finca%20Cienaguilla/dcvl1m07jfbf4lbdqhon.png","alt","post",3,"click",4,"ngIf"],[1,"categories_details",3,"click"],[1,"categories_text"],[1,"border_line"],["alt","post",1,"card-img","rounded-0",3,"src","click"],["src","https://res.cloudinary.com/devgea-s-a/image/upload/v1595208129/Finca%20Cienaguilla/dcvl1m07jfbf4lbdqhon.png","alt","post",1,"card-img","rounded-0",3,"click"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add-outline"]],template:function(t,e){1&t&&(l.Mb(0,"ion-header",0),l.Mb(1,"ion-toolbar"),l.Mb(2,"ion-buttons",1),l.Kb(3,"ion-back-button",2),l.Lb(),l.Mb(4,"ion-title"),l.ic(5,"Subcategor\xedas"),l.Lb(),l.Mb(6,"ion-buttons",3),l.Mb(7,"ion-button",4),l.Ub("click",(function(){return e.goToRoute("carrito")})),l.Kb(8,"ion-icon",5),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(9,"ion-content",6),l.Mb(10,"ion-header",7),l.Mb(11,"ion-toolbar"),l.Mb(12,"ion-title",8),l.ic(13,"Subcategor\xedas"),l.Lb(),l.Mb(14,"ion-buttons",9),l.Mb(15,"ion-button",4),l.Ub("click",(function(){return e.goToRoute("carrito")})),l.Kb(16,"ion-icon",5),l.Lb(),l.Lb(),l.Lb(),l.Lb(),l.Mb(17,"ion-slides",10),l.hc(18,g,12,4,"ion-slide",11),l.Lb(),l.hc(19,f,3,0,"ion-fab",12),l.Lb()),2&t&&(l.zb(9),l.bc("fullscreen",!0),l.zb(8),l.bc("options",e.slidesOpts),l.zb(1),l.bc("ngForOf",e.data),l.zb(1),l.bc("ngIf","Administrador"==e.administratorApp))},directives:[a.t,a.Q,a.h,a.e,a.f,a.P,a.g,a.u,a.o,a.J,o.h,o.i,a.I,a.q,a.r],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[n.i.forChild(m)],n.i]}),t})(),v=(()=>{class t{}return t.\u0275mod=l.Hb({type:t}),t.\u0275inj=l.Gb({factory:function(e){return new(e||t)},imports:[[o.b,s.a,a.R,w]]}),t})()}}]);