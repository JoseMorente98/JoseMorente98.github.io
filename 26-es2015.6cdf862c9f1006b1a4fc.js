(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{U4ZV:function(e,t,o){"use strict";o.r(t),o.d(t,"ContactoPageModule",(function(){return L}));var i=o("ofXK"),n=o("3Pt+"),a=o("TEn/"),c=o("tyNb"),s=o("mrSG"),r=o("fXoL"),l=o("J/xi"),b=o("+FVW");function d(e,t){1&e&&r.Kb(0,"img",29)}function u(e,t){if(1&e&&r.Kb(0,"img",30),2&e){const e=r.Wb();r.cc("src",e.strImage,r.fc)}}function h(e,t){if(1&e&&r.Kb(0,"ion-icon",31),2&e){const e=r.Wb();r.cc("name",e.data.icono)}}function g(e,t){1&e&&r.Kb(0,"ion-icon",32)}let m=(()=>{class e{constructor(e,t,o,i){this.modalController=e,this.notificacionService=t,this.contactoService=o,this.navParams=i,this.disabledBtn=!1,this.data={id:"",link:"",icono:"",estado:!1}}ngOnInit(){this.data.id=this.navParams.get("value"),this.data.id&&this.getSingle(+this.data.id)}closeModal(e){this.modalController.dismiss(e)}getSingle(e){this.contactoService.getSingle(e).subscribe(e=>{this.data=e},e=>{})}saveChanges(){this.validarCampos()&&(this.disabledBtn=!0,this.data.id?this.update():this.create())}validarCampos(){if(this.data.link){if(this.data.icono)return!0;this.notificacionService.presentToast("El icono es requerido.")}else this.notificacionService.presentToast("El link es requerido.");return!1}create(){this.contactoService.create(this.data).subscribe(e=>{this.closeModal(e),this.notificacionService.presentAlert("Contacto Agregado","El contacto se ha registrado exitosamente.")},e=>{this.notificacionService.presentToast("Lo sentimos, ha ocurrido un error intenta m\xe1s tarde.")})}update(){this.contactoService.update(this.data).subscribe(e=>{this.closeModal(e),this.notificacionService.presentAlert("Contacto Actualizado","El contacto se ha actualizado exitosamente.")},e=>{this.notificacionService.presentToast("Lo sentimos, ha ocurrido un error intenta m\xe1s tarde.")})}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(a.U),r.Jb(l.a),r.Jb(b.a),r.Jb(a.W))},e.\u0275cmp=r.Db({type:e,selectors:[["app-modal-contacto"]],decls:51,vars:9,consts:[["translucent","true"],["slot","end"],[3,"click"],["slot","icon-only","name","close-circle-outline"],[3,"fullscreen"],["collapse","condense"],["size","large"],[2,"width","100%","height","350px"],[1,"container"],["class","img-center","src","https://res.cloudinary.com/devgea-s-a/image/upload/v1594950613/Finca%20Cienaguilla/mkdr6jfwkclzdzubuuwb.png",4,"ngIf"],["class","img-center",3,"src",4,"ngIf"],[3,"ngSubmit"],["position","floating"],["name","person-outline"],["type","text","name","link","required","true","maxlength","255",3,"ngModel","ngModelChange"],[3,"name",4,"ngIf"],["name","logo-ionic",4,"ngIf"],["placeholder","Selecciona un icono","name","icono",3,"ngModel","ngModelChange"],["value","phone-portrait-outline"],["value","logo-facebook"],["value","logo-twitter"],["value","logo-instagram"],["value","logo-whatsapp"],["value","logo-linkedin"],["value","logo-youtube"],["value","logo-vimeo"],["slot","end","name","estado",3,"ngModel","ngModelChange"],["color","primary","expand","block","type","submit",3,"disabled"],["name","save-outline","slot","start"],["src","https://res.cloudinary.com/devgea-s-a/image/upload/v1594950613/Finca%20Cienaguilla/mkdr6jfwkclzdzubuuwb.png",1,"img-center"],[1,"img-center",3,"src"],[3,"name"],["name","logo-ionic"]],template:function(e,t){1&e&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-title"),r.ic(3,"Contacto"),r.Lb(),r.Mb(4,"ion-buttons",1),r.Mb(5,"ion-button",2),r.Ub("click",(function(){return t.closeModal()})),r.Kb(6,"ion-icon",3),r.Lb(),r.Lb(),r.Lb(),r.Lb(),r.Mb(7,"ion-content",4),r.Mb(8,"ion-header",5),r.Mb(9,"ion-toolbar"),r.Mb(10,"ion-title",6),r.ic(11,"Contacto"),r.Lb(),r.Lb(),r.Lb(),r.Mb(12,"div",7),r.Mb(13,"div",8),r.hc(14,d,1,0,"img",9),r.hc(15,u,1,1,"img",10),r.Lb(),r.Lb(),r.Mb(16,"form",11),r.Ub("ngSubmit",(function(){return t.saveChanges()})),r.Mb(17,"ion-item"),r.Mb(18,"ion-label",12),r.Kb(19,"ion-icon",13),r.ic(20," Link o No. Contacto"),r.Lb(),r.Mb(21,"ion-input",14),r.Ub("ngModelChange",(function(e){return t.data.link=e})),r.Lb(),r.Lb(),r.Mb(22,"ion-item"),r.Mb(23,"ion-label"),r.hc(24,h,1,1,"ion-icon",15),r.hc(25,g,1,0,"ion-icon",16),r.ic(26," Iconos: "),r.Lb(),r.Mb(27,"ion-select",17),r.Ub("ngModelChange",(function(e){return t.data.icono=e})),r.Mb(28,"ion-select-option",18),r.ic(29,"Tel\xe9fono"),r.Lb(),r.Mb(30,"ion-select-option",19),r.ic(31,"Facebook"),r.Lb(),r.Mb(32,"ion-select-option",20),r.ic(33,"Twitter"),r.Lb(),r.Mb(34,"ion-select-option",21),r.ic(35,"Instagram"),r.Lb(),r.Mb(36,"ion-select-option",22),r.ic(37,"WhatsApp"),r.Lb(),r.Mb(38,"ion-select-option",23),r.ic(39,"LinkedIn"),r.Lb(),r.Mb(40,"ion-select-option",24),r.ic(41,"YouTube"),r.Lb(),r.Mb(42,"ion-select-option",25),r.ic(43,"Vimeo"),r.Lb(),r.Lb(),r.Lb(),r.Mb(44,"ion-item"),r.Mb(45,"ion-label"),r.ic(46,"P\xe1gina Web"),r.Lb(),r.Mb(47,"ion-checkbox",26),r.Ub("ngModelChange",(function(e){return t.data.estado=e})),r.Lb(),r.Lb(),r.Mb(48,"ion-button",27),r.Kb(49,"ion-icon",28),r.ic(50," Guardar Cambios "),r.Lb(),r.Lb(),r.Lb()),2&e&&(r.zb(7),r.bc("fullscreen",!0),r.zb(7),r.bc("ngIf",!t.strImage),r.zb(1),r.bc("ngIf",t.strImage),r.zb(6),r.bc("ngModel",t.data.link),r.zb(3),r.bc("ngIf",t.data.icono),r.zb(1),r.bc("ngIf",!t.data.icono),r.zb(2),r.bc("ngModel",t.data.icono),r.zb(20),r.bc("ngModel",t.data.estado),r.zb(1),r.bc("disabled",t.disabledBtn))},directives:[a.t,a.Q,a.P,a.h,a.g,a.u,a.o,i.i,n.j,n.f,n.g,a.w,a.y,a.v,a.ab,n.i,n.b,n.e,n.h,a.G,a.Z,a.H,a.m,a.c],styles:[""]}),e})();var p=o("cZdB");function f(e,t){if(1&e){const e=r.Nb();r.Mb(0,"ion-item",10),r.Ub("click",(function(){r.ec(e);const o=t.$implicit;return r.Wb().getDetalle(o)})),r.Kb(1,"ion-icon",11),r.Mb(2,"ion-label",12),r.Mb(3,"h3"),r.ic(4),r.Lb(),r.Lb(),r.Lb()}if(2&e){const e=t.$implicit;r.zb(1),r.cc("name",e.icono),r.zb(3),r.jc(e.link)}}const M=[{path:"",component:(()=>{class e{constructor(e,t,o,i,n,a,c,s){this.loadingController=e,this.notificacionService=t,this.presentacionService=o,this.alertController=i,this.router=n,this.modalController=a,this.actionSheetController=c,this.location=s,this.getAll=()=>{this.notificacionService.presentLoading("Cargando..."),this.presentacionService.getAll().subscribe(e=>{this.data=[],this.data=e,this.notificacionService.dismissLoading()},e=>{this.notificacionService.dismissLoading()})}}ngOnInit(){}goToRoute(e){this.router.navigate([""+e])}goToBack(){this.location.back()}ionViewDidEnter(){this.getAll()}getDetalle(e){this.presentActionSheet(e)}presentActionSheet(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.actionSheetController.create({header:"Contacto",cssClass:"my-custom-class",buttons:[{text:"Actualizar",icon:"create-outline",handler:()=>{this.presentModal(e.id)}},{text:"Eliminar",role:"destructive",icon:"trash-outline",handler:()=>{this.presentAlert(e.id)}},{text:"Cancelar",icon:"close",role:"cancel",handler:()=>{console.log("Cancel clicked")}}]});yield t.present()}))}presentModal(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.modalController.create({component:m,componentProps:{value:e}});return t.onDidDismiss().then(e=>{e.data&&this.getAll()}),yield t.present()}))}presentAlert(e){return Object(s.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({header:"Eliminar",message:"\xbfDeseas eliminar el contacto?",cssClass:"my-custom-class",buttons:[{text:"Cancelar",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Aceptar",handler:()=>{this.delete(e)}}]});yield t.present()}))}delete(e){this.presentacionService.delete(e).subscribe(e=>{this.notificacionService.presentAlert("Contacto Eliminado","El contacto fue eliminado exitosamente."),this.getAll()},e=>{console})}}return e.\u0275fac=function(t){return new(t||e)(r.Jb(a.T),r.Jb(l.a),r.Jb(b.a),r.Jb(a.b),r.Jb(c.g),r.Jb(a.U),r.Jb(a.a),r.Jb(i.f))},e.\u0275cmp=r.Db({type:e,selectors:[["app-contacto"]],decls:19,vars:5,consts:[["translucent","true"],["slot","start"],["defaultHref","/cliente/categoria"],[3,"ngModel","ngModelChange"],["collapse","condense"],["size","large"],["button","",3,"click",4,"ngFor","ngForOf"],["vertical","bottom","horizontal","end","slot","fixed"],[3,"click"],["name","add-outline"],["button","",3,"click"],["slot","start",3,"name"],[1,"ion-text-wrap"]],template:function(e,t){1&e&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-buttons",1),r.Kb(3,"ion-back-button",2),r.Lb(),r.Mb(4,"ion-title"),r.ic(5,"Contacto"),r.Lb(),r.Lb(),r.Mb(6,"ion-toolbar"),r.Mb(7,"ion-searchbar",3),r.Ub("ngModelChange",(function(e){return t.search=e})),r.Lb(),r.Lb(),r.Lb(),r.Mb(8,"ion-content"),r.Mb(9,"ion-header",4),r.Mb(10,"ion-toolbar"),r.Mb(11,"ion-title",5),r.ic(12,"Contacto"),r.Lb(),r.Lb(),r.Lb(),r.Mb(13,"ion-list"),r.hc(14,f,5,2,"ion-item",6),r.Xb(15,"filter"),r.Lb(),r.Mb(16,"ion-fab",7),r.Mb(17,"ion-fab-button",8),r.Ub("click",(function(){return t.presentModal()})),r.Kb(18,"ion-icon",9),r.Lb(),r.Lb(),r.Lb()),2&e&&(r.zb(7),r.bc("ngModel",t.search),r.zb(7),r.bc("ngForOf",r.Yb(15,2,t.data,t.search)))},directives:[a.t,a.Q,a.h,a.e,a.f,a.P,a.D,a.ab,n.e,n.h,a.o,a.z,i.h,a.q,a.r,a.u,a.w,a.y],pipes:[p.a],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[c.i.forChild(M)],c.i]}),e})(),L=(()=>{class e{}return e.\u0275mod=r.Hb({type:e}),e.\u0275inj=r.Gb({factory:function(t){return new(t||e)},imports:[[i.b,n.a,a.R,v,p.b]]}),e})()}}]);