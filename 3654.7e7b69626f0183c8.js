"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3654],{3654:(P,g,c)=>{c.r(g),c.d(g,{InicioPageModule:()=>b});var u=c(177),d=c(4341),l=c(5150),h=c(8986),n=c(3953),f=c(9708),p=c(3656);function I(i,r){if(1&i){const t=n.RV6();n.j41(0,"ion-datetime",11),n.bIt("ionChange",function(o){n.eBV(t);const a=n.XpG();return n.Njj(a.onDateChangeInicio(o))}),n.k0s()}if(2&i){const t=n.XpG();n.Y8G("value",t.fechaInicio)}}function v(i,r){if(1&i){const t=n.RV6();n.j41(0,"ion-datetime",12),n.bIt("ionChange",function(o){n.eBV(t);const a=n.XpG();return n.Njj(a.onDateChangeFin(o))}),n.k0s()}if(2&i){const t=n.XpG();n.Y8G("value",t.fechaFin)}}function F(i,r){if(1&i){const t=n.RV6();n.j41(0,"ion-item",13),n.bIt("click",function(){const o=n.eBV(t).$implicit,a=n.XpG();return n.Njj(a.goToDetalles(null==o||null==o.usuario?null:o.usuario.id))}),n.j41(1,"ion-avatar",14),n.EFF(2),n.k0s(),n.j41(3,"ion-label"),n.EFF(4),n.k0s(),n.j41(5,"ion-label",15)(6,"strong"),n.EFF(7),n.nI1(8,"number"),n.k0s()()()}if(2&i){const t=r.$implicit;n.Y8G("button",!0),n.R7$(2),n.Lme(" ",null==t||null==t.usuario||null==t.usuario.nombre?null:t.usuario.nombre.charAt(0),"",null==t||null==t.usuario||null==t.usuario.apellido?null:t.usuario.apellido.charAt(0)," "),n.R7$(2),n.Lme("",null==t||null==t.usuario?null:t.usuario.nombre," ",null==t||null==t.usuario?null:t.usuario.apellido,""),n.R7$(3),n.SpI("Q",n.i5U(8,6,null==t?null:t.total,"1.2-2"),"")}}const _=[{path:"",component:(()=>{var i;class r{constructor(e,o){this.ventaService=e,this.navCtrl=o}ngOnInit(){this.usuario=JSON.parse(localStorage.getItem("currentUsuario"));const e=new Date,o=new Date(e);o.setDate(e.getDate()+1),this.fechaInicio=this.formatDate(e),this.fechaFin=this.formatDate(o),console.log(this.fechaInicio),console.log(this.fechaFin),this.getAll(this.fechaInicio,this.fechaFin)}onDateChangeInicio(e){console.log(e.detail.value),this.fechaInicio=e.detail.value,this.getAll(this.fechaInicio,this.fechaFin)}onDateChangeFin(e){this.fechaFin=e.detail.value,console.log(e.detail.value),this.getAll(this.fechaInicio,this.fechaFin)}obtenerSaludo(){const e=(new Date).getHours();return e>=5&&e<12?"Buenos d\xedas! \u{1f304}":e>=12&&e<19?"Buenas tardes! \u{1f307}":"Buenas noches! \u{1f303}"}getAll(e,o){this.ventaService.getAllVentas(this.formatDateForTimezone(e),this.formatDateForTimezone(o)).subscribe({next:a=>{console.log(a),this.venta=a}})}formatDate(e){return e.toISOString().split("T")[0]+"T00:00:00"}formatDateForTimezone(e){const o=new Date(e),a=o.getFullYear(),s=String(o.getMonth()+1).padStart(2,"0"),m=String(o.getDate()).padStart(2,"0");return console.log(`${a}-${s}-${m}T00:00:00-06:00`),`${a}-${s}-${m}T00:00:00-06:00`}goToDetalles(e){this.navCtrl.navigateForward("/admin/detalle-ventas",{state:{informacion:{fechaInicio:this.fechaInicio,fechaFin:this.fechaFin,usuarioId:e}}})}}return(i=r).\u0275fac=function(e){return new(e||i)(n.rXU(f.s),n.rXU(p.q9))},i.\u0275cmp=n.VBU({type:i,selectors:[["app-inicio"]],decls:24,vars:10,consts:[["mode","ios"],["color","primary"],[3,"fullscreen"],[1,"ion-padding"],[1,"card","ion-margin-top","ion-margin-bottom",2,"background","url('./../../../assets/background/sunset.jpg')","background-size","100%"],[1,"time-text"],[1,"day-text"],["datetime","fechaInicio",3,"ionChange"],[3,"keepContentsMounted"],["datetime","fechaFin",3,"ionChange"],[3,"button","click",4,"ngFor","ngForOf"],["id","fechaInicio",3,"ionChange","value"],["id","fechaFin",3,"ionChange","value"],[3,"click","button"],["slot","start",1,"avatar"],["slot","end"]],template:function(e,o){1&e&&(n.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-title"),n.EFF(3,"INICIO"),n.k0s()()(),n.j41(4,"ion-content",2)(5,"div",3)(6,"h2"),n.EFF(7),n.k0s(),n.j41(8,"h1"),n.EFF(9),n.k0s(),n.j41(10,"div",4)(11,"p",5)(12,"span"),n.EFF(13),n.nI1(14,"number"),n.k0s()(),n.j41(15,"p",6),n.EFF(16,"Balance total"),n.k0s()(),n.j41(17,"ion-datetime-button",7),n.bIt("ionChange",function(s){return o.onDateChangeInicio(s)}),n.k0s(),n.j41(18,"ion-modal",8),n.DNE(19,I,1,1,"ng-template"),n.k0s(),n.j41(20,"ion-datetime-button",9),n.bIt("ionChange",function(s){return o.onDateChangeFin(s)}),n.k0s(),n.j41(21,"ion-modal",8),n.DNE(22,v,1,1,"ng-template"),n.k0s(),n.DNE(23,F,9,9,"ion-item",10),n.k0s()()),2&e&&(n.R7$(4),n.Y8G("fullscreen",!0),n.R7$(3),n.JRh(o.obtenerSaludo()),n.R7$(2),n.SpI("Hola ",null==o.usuario?null:o.usuario.nombre,""),n.R7$(4),n.SpI("Q",n.i5U(14,7,null==o.venta?null:o.venta.total,"1.2-2"),""),n.R7$(5),n.Y8G("keepContentsMounted",!0),n.R7$(3),n.Y8G("keepContentsMounted",!0),n.R7$(2),n.Y8G("ngForOf",null==o.venta?null:o.venta.vendedores))},dependencies:[u.Sq,l.mC,l.W9,l.A9,l.K4,l.eU,l.uz,l.he,l.BC,l.ai,l.Sb,l.Je,u.QX],styles:[".card[_ngcontent-%COMP%]{border-radius:20px;box-shadow:0 1px 3px #0000001f,0 1px 2px #0000003d;display:flex;position:relative;flex-direction:column;justify-content:center;transition:all .3s ease-in-out;overflow:hidden;background:#fb5b0c;background:linear-gradient(to right,#fb5b0c,#fcb71c);color:#fff}.time-text[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:0;margin-left:15px;font-weight:600}.day-text[_ngcontent-%COMP%]{font-size:1rem;margin-top:0;margin-left:15px;font-weight:500}h1[_ngcontent-%COMP%]{font-weight:700;margin:0}h2[_ngcontent-%COMP%]{font-size:1rem;margin:0;color:gray}.avatar[_ngcontent-%COMP%]{background-color:orange;align-content:center;text-align:center}"]}),r})()}];let C=(()=>{var i;class r{}return(i=r).\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[h.iI.forChild(_),h.iI]}),r})(),b=(()=>{var i;class r{}return(i=r).\u0275fac=function(e){return new(e||i)},i.\u0275mod=n.$C({type:i}),i.\u0275inj=n.G2t({imports:[u.MD,d.YN,l.bv,C]}),r})()}}]);